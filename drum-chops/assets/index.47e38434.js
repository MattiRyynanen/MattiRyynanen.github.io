var Pg=Object.defineProperty,bg=Object.defineProperties;var Lg=Object.getOwnPropertyDescriptors;var Qi=Object.getOwnPropertySymbols;var ch=Object.prototype.hasOwnProperty,hh=Object.prototype.propertyIsEnumerable;var uh=(t,e,n)=>e in t?Pg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||(e={}))ch.call(e,n)&&uh(t,n,e[n]);if(Qi)for(var n of Qi(e))hh.call(e,n)&&uh(t,n,e[n]);return t},U=(t,e)=>bg(t,Lg(e));var Es=(t,e)=>{var n={};for(var r in t)ch.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qi)for(var r of Qi(t))e.indexOf(r)<0&&hh.call(t,r)&&(n[r]=t[r]);return n};const Fg=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};Fg();var se={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ii=Symbol.for("react.element"),Vg=Symbol.for("react.portal"),zg=Symbol.for("react.fragment"),Bg=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),jg=Symbol.for("react.provider"),Hg=Symbol.for("react.context"),Ug=Symbol.for("react.forward_ref"),qg=Symbol.for("react.suspense"),$g=Symbol.for("react.memo"),Gg=Symbol.for("react.lazy"),dh=Symbol.iterator;function Qg(t){return t===null||typeof t!="object"?null:(t=dh&&t[dh]||t["@@iterator"],typeof t=="function"?t:null)}var Jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ef=Object.assign,tf={};function ps(t,e,n){this.props=t,this.context=e,this.refs=tf,this.updater=n||Jd}ps.prototype.isReactComponent={};ps.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ps.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nf(){}nf.prototype=ps.prototype;function Wu(t,e,n){this.props=t,this.context=e,this.refs=tf,this.updater=n||Jd}var ju=Wu.prototype=new nf;ju.constructor=Wu;ef(ju,ps.prototype);ju.isPureReactComponent=!0;var fh=Array.isArray,rf=Object.prototype.hasOwnProperty,Hu={current:null},sf={key:!0,ref:!0,__self:!0,__source:!0};function of(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)rf.call(e,r)&&!sf.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ii,type:t,key:i,ref:o,props:s,_owner:Hu.current}}function Xg(t,e){return{$$typeof:Ii,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ii}function Yg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ph=/\/+/g;function rl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yg(""+t.key):e.toString(36)}function So(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ii:case Vg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+rl(o,0):r,fh(s)?(n="",t!=null&&(n=t.replace(ph,"$&/")+"/"),So(s,e,n,"",function(u){return u})):s!=null&&(Uu(s)&&(s=Xg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ph,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",fh(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+rl(i,a);o+=So(i,e,n,l,s)}else if(l=Qg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+rl(i,a++),o+=So(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xi(t,e,n){if(t==null)return t;var r=[],s=0;return So(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Zg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},ko={transition:null},Kg={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:ko,ReactCurrentOwner:Hu};ee.Children={map:Xi,forEach:function(t,e,n){Xi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xi(t,function(){e++}),e},toArray:function(t){return Xi(t,function(e){return e})||[]},only:function(t){if(!Uu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=ps;ee.Fragment=zg;ee.Profiler=Wg;ee.PureComponent=Wu;ee.StrictMode=Bg;ee.Suspense=qg;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kg;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ef({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Hu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rf.call(e,l)&&!sf.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ii,type:t.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:Hg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jg,_context:t},t.Consumer=t};ee.createElement=of;ee.createFactory=function(t){var e=of.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:Ug,render:t}};ee.isValidElement=Uu;ee.lazy=function(t){return{$$typeof:Gg,_payload:{_status:-1,_result:t},_init:Zg}};ee.memo=function(t,e){return{$$typeof:$g,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=ko.transition;ko.transition={};try{t()}finally{ko.transition=e}};ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ee.useCallback=function(t,e){return st.current.useCallback(t,e)};ee.useContext=function(t){return st.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return st.current.useDeferredValue(t)};ee.useEffect=function(t,e){return st.current.useEffect(t,e)};ee.useId=function(){return st.current.useId()};ee.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return st.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};ee.useRef=function(t){return st.current.useRef(t)};ee.useState=function(t){return st.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return st.current.useTransition()};ee.version="18.1.0";se.exports=ee;var af=se.exports,bl={},lf={exports:{}},St={},uf={exports:{}},cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,P){var b=R.length;R.push(P);e:for(;0<b;){var H=b-1>>>1,Q=R[H];if(0<s(Q,P))R[H]=P,R[b]=Q,b=H;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var P=R[0],b=R.pop();if(b!==P){R[0]=b;e:for(var H=0,Q=R.length,ae=Q>>>1;H<ae;){var Ne=2*(H+1)-1,We=R[Ne],K=Ne+1,$=R[K];if(0>s(We,b))K<Q&&0>s($,We)?(R[H]=$,R[K]=b,H=K):(R[H]=We,R[Ne]=b,H=Ne);else if(K<Q&&0>s($,b))R[H]=$,R[K]=b,H=K;else break e}}return P}function s(R,P){var b=R.sortIndex-P.sortIndex;return b!==0?b:R.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=R)r(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(u)}}function C(R){if(v=!1,_(R),!g)if(n(l)!==null)g=!0,F(S);else{var P=n(u);P!==null&&j(C,P.startTime-R)}}function S(R,P){g=!1,v&&(v=!1,f(k),k=-1),m=!0;var b=d;try{for(_(P),h=n(l);h!==null&&(!(h.expirationTime>P)||R&&!O());){var H=h.callback;if(typeof H=="function"){h.callback=null,d=h.priorityLevel;var Q=H(h.expirationTime<=P);P=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(l)&&r(l),_(P)}else r(l);h=n(l)}if(h!==null)var ae=!0;else{var Ne=n(u);Ne!==null&&j(C,Ne.startTime-P),ae=!1}return ae}finally{h=null,d=b,m=!1}}var T=!1,w=null,k=-1,N=5,M=-1;function O(){return!(t.unstable_now()-M<N)}function E(){if(w!==null){var R=t.unstable_now();M=R;var P=!0;try{P=w(!0,R)}finally{P?V():(T=!1,w=null)}}else T=!1}var V;if(typeof p=="function")V=function(){p(E)};else if(typeof MessageChannel!="undefined"){var A=new MessageChannel,W=A.port2;A.port1.onmessage=E,V=function(){W.postMessage(null)}}else V=function(){y(E,0)};function F(R){w=R,T||(T=!0,V())}function j(R,P){k=y(function(){R(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,F(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var b=d;d=P;try{return R()}finally{d=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,P){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var b=d;d=R;try{return P()}finally{d=b}},t.unstable_scheduleCallback=function(R,P,b){var H=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?H+b:H):b=H,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=b+Q,R={id:c++,callback:P,priorityLevel:R,startTime:b,expirationTime:Q,sortIndex:-1},b>H?(R.sortIndex=b,e(u,R),n(l)===null&&R===n(u)&&(v?(f(k),k=-1):v=!0,j(C,b-H))):(R.sortIndex=Q,e(l,R),g||m||(g=!0,F(S))),R},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(R){var P=d;return function(){var b=d;d=P;try{return R.apply(this,arguments)}finally{d=b}}}})(cf);uf.exports=cf;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=se.exports,yt=uf.exports;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var df=new Set,Js={};function Sr(t,e){ns(t,e),ns(t+"Capture",e)}function ns(t,e){for(Js[t]=e,t=0;t<e.length;t++)df.add(e[t])}var mn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ll=Object.prototype.hasOwnProperty,Jg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mh={},gh={};function ev(t){return Ll.call(gh,t)?!0:Ll.call(mh,t)?!1:Jg.test(t)?gh[t]=!0:(mh[t]=!0,!1)}function tv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nv(t,e,n,r){if(e===null||typeof e=="undefined"||tv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var qu=/[\-:]([a-z])/g;function $u(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qu,$u);Ue[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qu,$u);Ue[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qu,$u);Ue[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gu(t,e,n,r){var s=Ue.hasOwnProperty(e)?Ue[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nv(e,n,s,r)&&(n=null),r||s===null?ev(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wn=hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yi=Symbol.for("react.element"),Ir=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),Qu=Symbol.for("react.strict_mode"),Fl=Symbol.for("react.profiler"),ff=Symbol.for("react.provider"),pf=Symbol.for("react.context"),Xu=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),zl=Symbol.for("react.suspense_list"),Yu=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),mf=Symbol.for("react.offscreen"),vh=Symbol.iterator;function Os(t){return t===null||typeof t!="object"?null:(t=vh&&t[vh]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,sl;function zs(t){if(sl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sl=e&&e[1]||""}return`
`+sl+t}var il=!1;function ol(t,e){if(!t||il)return"";il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{il=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zs(t):""}function rv(t){switch(t.tag){case 5:return zs(t.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return t=ol(t.type,!1),t;case 11:return t=ol(t.type.render,!1),t;case 1:return t=ol(t.type,!0),t;default:return""}}function Bl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dr:return"Fragment";case Ir:return"Portal";case Fl:return"Profiler";case Qu:return"StrictMode";case Vl:return"Suspense";case zl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pf:return(t.displayName||"Context")+".Consumer";case ff:return(t._context.displayName||"Context")+".Provider";case Xu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yu:return e=t.displayName||null,e!==null?e:Bl(t.type)||"Memo";case En:e=t._payload,t=t._init;try{return Bl(t(e))}catch{}}return null}function sv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bl(e);case 8:return e===Qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iv(t){var e=gf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zi(t){t._valueTracker||(t._valueTracker=iv(t))}function vf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bo(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wl(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function _h(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _f(t,e){e=e.checked,e!=null&&Gu(t,"checked",e,!1)}function jl(t,e){_f(t,e);var n=jn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hl(t,e.type,jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hl(t,e,n){(e!=="number"||bo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bs=Array.isArray;function qr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ul(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Bs(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jn(n)}}function yf(t,e){var n=jn(e.value),r=jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ql(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ki,Sf=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ki.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ei(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ov=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(t){ov.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hs[e]=Hs[t]})});function kf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hs.hasOwnProperty(t)&&Hs[t]?(""+e).trim():e+"px"}function Tf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var av=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $l(t,e){if(e){if(av[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Gl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ql=null;function Zu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xl=null,$r=null,Gr=null;function kh(t){if(t=bi(t)){if(typeof Xl!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Aa(e),Xl(t.stateNode,t.type,e))}}function Cf(t){$r?Gr?Gr.push(t):Gr=[t]:$r=t}function xf(){if($r){var t=$r,e=Gr;if(Gr=$r=null,kh(t),e)for(t=0;t<e.length;t++)kh(e[t])}}function Nf(t,e){return t(e)}function Ef(){}var al=!1;function Of(t,e,n){if(al)return t(e,n);al=!0;try{return Nf(t,e,n)}finally{al=!1,($r!==null||Gr!==null)&&(Ef(),xf())}}function ti(t,e){var n=t.stateNode;if(n===null)return null;var r=Aa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Yl=!1;if(mn)try{var As={};Object.defineProperty(As,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Yl=!1}function lv(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Us=!1,Lo=null,Fo=!1,Zl=null,uv={onError:function(t){Us=!0,Lo=t}};function cv(t,e,n,r,s,i,o,a,l){Us=!1,Lo=null,lv.apply(uv,arguments)}function hv(t,e,n,r,s,i,o,a,l){if(cv.apply(this,arguments),Us){if(Us){var u=Lo;Us=!1,Lo=null}else throw Error(D(198));Fo||(Fo=!0,Zl=u)}}function kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Af(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Th(t){if(kr(t)!==t)throw Error(D(188))}function dv(t){var e=t.alternate;if(!e){if(e=kr(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Th(s),t;if(i===r)return Th(s),e;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function Rf(t){return t=dv(t),t!==null?Mf(t):null}function Mf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mf(t);if(e!==null)return e;t=t.sibling}return null}var If=yt.unstable_scheduleCallback,Ch=yt.unstable_cancelCallback,fv=yt.unstable_shouldYield,pv=yt.unstable_requestPaint,Ae=yt.unstable_now,mv=yt.unstable_getCurrentPriorityLevel,Ku=yt.unstable_ImmediatePriority,Df=yt.unstable_UserBlockingPriority,Vo=yt.unstable_NormalPriority,gv=yt.unstable_LowPriority,Pf=yt.unstable_IdlePriority,xa=null,Zt=null;function vv(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(xa,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:wv,_v=Math.log,yv=Math.LN2;function wv(t){return t>>>=0,t===0?32:31-(_v(t)/yv|0)|0}var Ji=64,eo=4194304;function Ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ws(a):(i&=o,i!==0&&(r=Ws(i)))}else o=n&~s,o!==0?r=Ws(o):i!==0&&(r=Ws(i));if(r===0)return 0;if(e!==0&&e!==r&&(e&s)===0&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bt(e),s=1<<n,r|=t[n],e&=~s;return r}function Sv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Bt(i),a=1<<o,l=s[o];l===-1?((a&n)===0||(a&r)!==0)&&(s[o]=Sv(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Kl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bf(){var t=Ji;return Ji<<=1,(Ji&4194240)===0&&(Ji=64),t}function ll(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Di(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function Tv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ju(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var re=0;function Lf(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ff,ec,Vf,zf,Bf,Jl=!1,to=[],Pn=null,bn=null,Ln=null,ni=new Map,ri=new Map,Rn=[],Cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xh(t,e){switch(t){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":ni.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(e.pointerId)}}function Rs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bi(e),e!==null&&ec(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xv(t,e,n,r,s){switch(e){case"focusin":return Pn=Rs(Pn,t,e,n,r,s),!0;case"dragenter":return bn=Rs(bn,t,e,n,r,s),!0;case"mouseover":return Ln=Rs(Ln,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ni.set(i,Rs(ni.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ri.set(i,Rs(ri.get(i)||null,t,e,n,r,s)),!0}return!1}function Wf(t){var e=nr(t.target);if(e!==null){var n=kr(e);if(n!==null){if(e=n.tag,e===13){if(e=Af(n),e!==null){t.blockedOn=e,Bf(t.priority,function(){Vf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function To(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ql=r,n.target.dispatchEvent(r),Ql=null}else return e=bi(n),e!==null&&ec(e),t.blockedOn=n,!1;e.shift()}return!0}function Nh(t,e,n){To(t)&&n.delete(e)}function Nv(){Jl=!1,Pn!==null&&To(Pn)&&(Pn=null),bn!==null&&To(bn)&&(bn=null),Ln!==null&&To(Ln)&&(Ln=null),ni.forEach(Nh),ri.forEach(Nh)}function Ms(t,e){t.blockedOn===e&&(t.blockedOn=null,Jl||(Jl=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Nv)))}function si(t){function e(s){return Ms(s,t)}if(0<to.length){Ms(to[0],t);for(var n=1;n<to.length;n++){var r=to[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pn!==null&&Ms(Pn,t),bn!==null&&Ms(bn,t),Ln!==null&&Ms(Ln,t),ni.forEach(e),ri.forEach(e),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)Wf(n),n.blockedOn===null&&Rn.shift()}var Qr=wn.ReactCurrentBatchConfig,Bo=!0;function Ev(t,e,n,r){var s=re,i=Qr.transition;Qr.transition=null;try{re=1,tc(t,e,n,r)}finally{re=s,Qr.transition=i}}function Ov(t,e,n,r){var s=re,i=Qr.transition;Qr.transition=null;try{re=4,tc(t,e,n,r)}finally{re=s,Qr.transition=i}}function tc(t,e,n,r){if(Bo){var s=eu(t,e,n,r);if(s===null)_l(t,e,r,Wo,n),xh(t,r);else if(xv(s,t,e,n,r))r.stopPropagation();else if(xh(t,r),e&4&&-1<Cv.indexOf(t)){for(;s!==null;){var i=bi(s);if(i!==null&&Ff(i),i=eu(t,e,n,r),i===null&&_l(t,e,r,Wo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _l(t,e,r,null,n)}}var Wo=null;function eu(t,e,n,r){if(Wo=null,t=Zu(r),t=nr(t),t!==null)if(e=kr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Af(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wo=t,null}function jf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mv()){case Ku:return 1;case Df:return 4;case Vo:case gv:return 16;case Pf:return 536870912;default:return 16}default:return 16}}var In=null,nc=null,Co=null;function Hf(){if(Co)return Co;var t,e=nc,n=e.length,r,s="value"in In?In.value:In.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Co=s.slice(t,1<r?1-r:void 0)}function xo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function no(){return!0}function Eh(){return!1}function kt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?no:Eh,this.isPropagationStopped=Eh,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),e}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=kt(ms),Pi=Se({},ms,{view:0,detail:0}),Av=kt(Pi),ul,cl,Is,Na=Se({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(ul=t.screenX-Is.screenX,cl=t.screenY-Is.screenY):cl=ul=0,Is=t),ul)},movementY:function(t){return"movementY"in t?t.movementY:cl}}),Oh=kt(Na),Rv=Se({},Na,{dataTransfer:0}),Mv=kt(Rv),Iv=Se({},Pi,{relatedTarget:0}),hl=kt(Iv),Dv=Se({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Pv=kt(Dv),bv=Se({},ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lv=kt(bv),Fv=Se({},ms,{data:0}),Ah=kt(Fv),Vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bv[t])?!!e[t]:!1}function sc(){return Wv}var jv=Se({},Pi,{key:function(t){if(t.key){var e=Vv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(t){return t.type==="keypress"?xo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hv=kt(jv),Uv=Se({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=kt(Uv),qv=Se({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),$v=kt(qv),Gv=Se({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qv=kt(Gv),Xv=Se({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yv=kt(Xv),Zv=[9,13,27,32],ic=mn&&"CompositionEvent"in window,qs=null;mn&&"documentMode"in document&&(qs=document.documentMode);var Kv=mn&&"TextEvent"in window&&!qs,Uf=mn&&(!ic||qs&&8<qs&&11>=qs),Mh=String.fromCharCode(32),Ih=!1;function qf(t,e){switch(t){case"keyup":return Zv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function Jv(t,e){switch(t){case"compositionend":return $f(e);case"keypress":return e.which!==32?null:(Ih=!0,Mh);case"textInput":return t=e.data,t===Mh&&Ih?null:t;default:return null}}function e_(t,e){if(Pr)return t==="compositionend"||!ic&&qf(t,e)?(t=Hf(),Co=nc=In=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uf&&e.locale!=="ko"?null:e.data;default:return null}}var t_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t_[t.type]:e==="textarea"}function Gf(t,e,n,r){Cf(r),e=jo(e,"onChange"),0<e.length&&(n=new rc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $s=null,ii=null;function n_(t){sp(t,0)}function Ea(t){var e=Fr(t);if(vf(e))return t}function r_(t,e){if(t==="change")return e}var Qf=!1;if(mn){var dl;if(mn){var fl="oninput"in document;if(!fl){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),fl=typeof Ph.oninput=="function"}dl=fl}else dl=!1;Qf=dl&&(!document.documentMode||9<document.documentMode)}function bh(){$s&&($s.detachEvent("onpropertychange",Xf),ii=$s=null)}function Xf(t){if(t.propertyName==="value"&&Ea(ii)){var e=[];Gf(e,ii,t,Zu(t)),Of(n_,e)}}function s_(t,e,n){t==="focusin"?(bh(),$s=e,ii=n,$s.attachEvent("onpropertychange",Xf)):t==="focusout"&&bh()}function i_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ea(ii)}function o_(t,e){if(t==="click")return Ea(e)}function a_(t,e){if(t==="input"||t==="change")return Ea(e)}function l_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wt=typeof Object.is=="function"?Object.is:l_;function oi(t,e){if(Wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ll.call(e,s)||!Wt(t[s],e[s]))return!1}return!0}function Lh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fh(t,e){var n=Lh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lh(n)}}function Yf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zf(){for(var t=window,e=bo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bo(t.document)}return e}function oc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function u_(t){var e=Zf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yf(n.ownerDocument.documentElement,n)){if(r!==null&&oc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Fh(n,i);var o=Fh(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c_=mn&&"documentMode"in document&&11>=document.documentMode,br=null,tu=null,Gs=null,nu=!1;function Vh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nu||br==null||br!==bo(r)||(r=br,"selectionStart"in r&&oc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gs&&oi(Gs,r)||(Gs=r,r=jo(tu,"onSelect"),0<r.length&&(e=new rc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=br)))}function ro(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lr={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},pl={},Kf={};mn&&(Kf=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Oa(t){if(pl[t])return pl[t];if(!Lr[t])return t;var e=Lr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kf)return pl[t]=e[n];return t}var Jf=Oa("animationend"),ep=Oa("animationiteration"),tp=Oa("animationstart"),np=Oa("transitionend"),rp=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(t,e){rp.set(t,e),Sr(e,[t])}for(var ml=0;ml<zh.length;ml++){var gl=zh[ml],h_=gl.toLowerCase(),d_=gl[0].toUpperCase()+gl.slice(1);Qn(h_,"on"+d_)}Qn(Jf,"onAnimationEnd");Qn(ep,"onAnimationIteration");Qn(tp,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(np,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f_=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function Bh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hv(r,e,void 0,t),t.currentTarget=null}function sp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Bh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Bh(s,a,u),i=l}}}if(Fo)throw t=Zl,Fo=!1,Zl=null,t}function he(t,e){var n=e[au];n===void 0&&(n=e[au]=new Set);var r=t+"__bubble";n.has(r)||(ip(e,t,2,!1),n.add(r))}function vl(t,e,n){var r=0;e&&(r|=4),ip(n,t,r,e)}var so="_reactListening"+Math.random().toString(36).slice(2);function ai(t){if(!t[so]){t[so]=!0,df.forEach(function(n){n!=="selectionchange"&&(f_.has(n)||vl(n,!1,t),vl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[so]||(e[so]=!0,vl("selectionchange",!1,e))}}function ip(t,e,n,r){switch(jf(e)){case 1:var s=Ev;break;case 4:s=Ov;break;default:s=tc}n=s.bind(null,e,n,t),s=void 0,!Yl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _l(t,e,n,r,s){var i=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=nr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Of(function(){var u=i,c=Zu(n),h=[];e:{var d=rp.get(t);if(d!==void 0){var m=rc,g=t;switch(t){case"keypress":if(xo(n)===0)break e;case"keydown":case"keyup":m=Hv;break;case"focusin":g="focus",m=hl;break;case"focusout":g="blur",m=hl;break;case"beforeblur":case"afterblur":m=hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$v;break;case Jf:case ep:case tp:m=Pv;break;case np:m=Qv;break;case"scroll":m=Av;break;case"wheel":m=Yv;break;case"copy":case"cut":case"paste":m=Lv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Rh}var v=(e&4)!==0,y=!v&&t==="scroll",f=v?d!==null?d+"Capture":null:d;v=[];for(var p=u,_;p!==null;){_=p;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,f!==null&&(C=ti(p,f),C!=null&&v.push(li(p,C,_)))),y)break;p=p.return}0<v.length&&(d=new m(d,g,null,n,c),h.push({event:d,listeners:v}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Ql&&(g=n.relatedTarget||n.fromElement)&&(nr(g)||g[gn]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?nr(g):null,g!==null&&(y=kr(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=Oh,C="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Rh,C="onPointerLeave",f="onPointerEnter",p="pointer"),y=m==null?d:Fr(m),_=g==null?d:Fr(g),d=new v(C,p+"leave",m,n,c),d.target=y,d.relatedTarget=_,C=null,nr(c)===u&&(v=new v(f,p+"enter",g,n,c),v.target=_,v.relatedTarget=y,C=v),y=C,m&&g)t:{for(v=m,f=g,p=0,_=v;_;_=Ar(_))p++;for(_=0,C=f;C;C=Ar(C))_++;for(;0<p-_;)v=Ar(v),p--;for(;0<_-p;)f=Ar(f),_--;for(;p--;){if(v===f||f!==null&&v===f.alternate)break t;v=Ar(v),f=Ar(f)}v=null}else v=null;m!==null&&Wh(h,d,m,v,!1),g!==null&&y!==null&&Wh(h,y,g,v,!0)}}e:{if(d=u?Fr(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var S=r_;else if(Dh(d))if(Qf)S=a_;else{S=i_;var T=s_}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=o_);if(S&&(S=S(t,u))){Gf(h,S,n,c);break e}T&&T(t,d,u),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&Hl(d,"number",d.value)}switch(T=u?Fr(u):window,t){case"focusin":(Dh(T)||T.contentEditable==="true")&&(br=T,tu=u,Gs=null);break;case"focusout":Gs=tu=br=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Vh(h,n,c);break;case"selectionchange":if(c_)break;case"keydown":case"keyup":Vh(h,n,c)}var w;if(ic)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Pr?qf(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Uf&&n.locale!=="ko"&&(Pr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Pr&&(w=Hf()):(In=c,nc="value"in In?In.value:In.textContent,Pr=!0)),T=jo(u,k),0<T.length&&(k=new Ah(k,t,null,n,c),h.push({event:k,listeners:T}),w?k.data=w:(w=$f(n),w!==null&&(k.data=w)))),(w=Kv?Jv(t,n):e_(t,n))&&(u=jo(u,"onBeforeInput"),0<u.length&&(c=new Ah("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=w))}sp(h,e)})}function li(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jo(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ti(t,n),i!=null&&r.unshift(li(t,i,s)),i=ti(t,e),i!=null&&r.push(li(t,i,s))),t=t.return}return r}function Ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wh(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ti(n,i),l!=null&&o.unshift(li(n,l,a))):s||(l=ti(n,i),l!=null&&o.push(li(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var p_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function jh(t){return(typeof t=="string"?t:""+t).replace(p_,`
`).replace(m_,"")}function io(t,e,n){if(e=jh(e),jh(t)!==e&&n)throw Error(D(425))}function Ho(){}var ru=null,su=null;function iu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ou=typeof setTimeout=="function"?setTimeout:void 0,g_=typeof clearTimeout=="function"?clearTimeout:void 0,Hh=typeof Promise=="function"?Promise:void 0,v_=typeof queueMicrotask=="function"?queueMicrotask:typeof Hh!="undefined"?function(t){return Hh.resolve(null).then(t).catch(__)}:ou;function __(t){setTimeout(function(){throw t})}function yl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),si(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);si(e)}function un(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Yt="__reactFiber$"+gs,ui="__reactProps$"+gs,gn="__reactContainer$"+gs,au="__reactEvents$"+gs,y_="__reactListeners$"+gs,w_="__reactHandles$"+gs;function nr(t){var e=t[Yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gn]||n[Yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uh(t);t!==null;){if(n=t[Yt])return n;t=Uh(t)}return e}t=n,n=t.parentNode}return null}function bi(t){return t=t[Yt]||t[gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Aa(t){return t[ui]||null}var lu=[],Vr=-1;function Xn(t){return{current:t}}function fe(t){0>Vr||(t.current=lu[Vr],lu[Vr]=null,Vr--)}function ue(t,e){Vr++,lu[Vr]=t.current,t.current=e}var Hn={},Ye=Xn(Hn),ht=Xn(!1),hr=Hn;function rs(t,e){var n=t.type.contextTypes;if(!n)return Hn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dt(t){return t=t.childContextTypes,t!=null}function Uo(){fe(ht),fe(Ye)}function qh(t,e,n){if(Ye.current!==Hn)throw Error(D(168));ue(Ye,e),ue(ht,n)}function op(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(D(108,sv(t)||"Unknown",s));return Se({},n,r)}function qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hn,hr=Ye.current,ue(Ye,t),ue(ht,ht.current),!0}function $h(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=op(t,e,hr),r.__reactInternalMemoizedMergedChildContext=t,fe(ht),fe(Ye),ue(Ye,t)):fe(ht),ue(ht,n)}var ln=null,Ra=!1,wl=!1;function ap(t){ln===null?ln=[t]:ln.push(t)}function S_(t){Ra=!0,ap(t)}function Yn(){if(!wl&&ln!==null){wl=!0;var t=0,e=re;try{var n=ln;for(re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ln=null,Ra=!1}catch(s){throw ln!==null&&(ln=ln.slice(t+1)),If(Ku,Yn),s}finally{re=e,wl=!1}}return null}var k_=wn.ReactCurrentBatchConfig;function Dt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $o=Xn(null),Go=null,zr=null,ac=null;function lc(){ac=zr=Go=null}function uc(t){var e=$o.current;fe($o),t._currentValue=e}function uu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xr(t,e){Go=t,ac=zr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(ct=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(ac!==t)if(t={context:t,memoizedValue:e,next:null},zr===null){if(Go===null)throw Error(D(308));zr=t,Go.dependencies={lanes:0,firstContext:t}}else zr=zr.next=t;return e}var Ft=null,On=!1;function cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(t,e){var n=t.updateQueue;n!==null&&(n=n.shared,Zp(t)?(t=n.interleaved,t===null?(e.next=e,Ft===null?Ft=[n]:Ft.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(t=n.pending,t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function No(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ju(t,n)}}function Gh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qo(t,e,n,r){var s=t.updateQueue;On=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,m=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(d=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(m,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(m,h,d):g,d==null)break e;h=Se({},h,d);break e;case 2:On=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);pr|=o,t.lanes=o,t.memoizedState=h}}function Qh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var up=new hf.Component().refs;function cu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ma={isMounted:function(t){return(t=t._reactInternals)?kr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nt(),s=zn(t),i=fn(r,s);i.payload=e,n!=null&&(i.callback=n),Fn(t,i),e=At(t,s,r),e!==null&&No(e,t,s)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nt(),s=zn(t),i=fn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),Fn(t,i),e=At(t,s,r),e!==null&&No(e,t,s)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nt(),r=zn(t),s=fn(n,r);s.tag=2,e!=null&&(s.callback=e),Fn(t,s),e=At(t,r,n),e!==null&&No(e,t,r)}};function Xh(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!oi(n,r)||!oi(s,i):!0}function cp(t,e,n){var r=!1,s=Hn,i=e.contextType;return typeof i=="object"&&i!==null?i=Rt(i):(s=dt(e)?hr:Ye.current,r=e.contextTypes,i=(r=r!=null)?rs(t,s):Hn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ma,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Yh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ma.enqueueReplaceState(e,e.state,null)}function hu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=up,cc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Rt(i):(i=dt(e)?hr:Ye.current,s.context=rs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(cu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ma.enqueueReplaceState(s,s.state,null),Qo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}var Br=[],Wr=0,Xo=null,Yo=0,Ct=[],xt=0,dr=null,cn=1,hn="";function Jn(t,e){Br[Wr++]=Yo,Br[Wr++]=Xo,Xo=t,Yo=e}function hp(t,e,n){Ct[xt++]=cn,Ct[xt++]=hn,Ct[xt++]=dr,dr=t;var r=cn;t=hn;var s=32-Bt(r)-1;r&=~(1<<s),n+=1;var i=32-Bt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,cn=1<<32-Bt(e)+s|n<<s|r,hn=i+t}else cn=1<<i|n<<s|r,hn=t}function hc(t){t.return!==null&&(Jn(t,1),hp(t,1,0))}function dc(t){for(;t===Xo;)Xo=Br[--Wr],Br[Wr]=null,Yo=Br[--Wr],Br[Wr]=null;for(;t===dr;)dr=Ct[--xt],Ct[xt]=null,hn=Ct[--xt],Ct[xt]=null,cn=Ct[--xt],Ct[xt]=null}var vt=null,ut=null,ve=!1,bt=null;function dp(t,e){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vt=t,ut=un(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vt=t,ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=dr!==null?{id:cn,overflow:hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vt=t,ut=null,!0):!1;default:return!1}}function du(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fu(t){if(ve){var e=ut;if(e){var n=e;if(!Zh(t,e)){if(du(t))throw Error(D(418));e=un(n.nextSibling);var r=vt;e&&Zh(t,e)?dp(r,n):(t.flags=t.flags&-4097|2,ve=!1,vt=t)}}else{if(du(t))throw Error(D(418));t.flags=t.flags&-4097|2,ve=!1,vt=t}}}function Kh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vt=t}function Ds(t){if(t!==vt)return!1;if(!ve)return Kh(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iu(t.type,t.memoizedProps)),e&&(e=ut)){if(du(t)){for(t=ut;t;)t=un(t.nextSibling);throw Error(D(418))}for(;e;)dp(t,e),e=un(e.nextSibling)}if(Kh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ut=un(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ut=null}}else ut=vt?un(t.stateNode.nextSibling):null;return!0}function ss(){ut=vt=null,ve=!1}function fc(t){bt===null?bt=[t]:bt.push(t)}function Ps(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===up&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function oo(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jh(t){var e=t._init;return e(t._payload)}function fp(t){function e(f,p){if(t){var _=f.deletions;_===null?(f.deletions=[p],f.flags|=16):_.push(p)}}function n(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function s(f,p){return f=Un(f,p),f.index=0,f.sibling=null,f}function i(f,p,_){return f.index=_,t?(_=f.alternate,_!==null?(_=_.index,_<p?(f.flags|=2,p):_):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,p,_,C){return p===null||p.tag!==6?(p=Nl(_,f.mode,C),p.return=f,p):(p=s(p,_),p.return=f,p)}function l(f,p,_,C){var S=_.type;return S===Dr?c(f,p,_.props.children,C,_.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===En&&Jh(S)===p.type)?(C=s(p,_.props),C.ref=Ps(f,p,_),C.return=f,C):(C=Mo(_.type,_.key,_.props,null,f.mode,C),C.ref=Ps(f,p,_),C.return=f,C)}function u(f,p,_,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=El(_,f.mode,C),p.return=f,p):(p=s(p,_.children||[]),p.return=f,p)}function c(f,p,_,C,S){return p===null||p.tag!==7?(p=ir(_,f.mode,C,S),p.return=f,p):(p=s(p,_),p.return=f,p)}function h(f,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Nl(""+p,f.mode,_),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Yi:return _=Mo(p.type,p.key,p.props,null,f.mode,_),_.ref=Ps(f,null,p),_.return=f,_;case Ir:return p=El(p,f.mode,_),p.return=f,p;case En:var C=p._init;return h(f,C(p._payload),_)}if(Bs(p)||Os(p))return p=ir(p,f.mode,_,null),p.return=f,p;oo(f,p)}return null}function d(f,p,_,C){var S=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(f,p,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yi:return _.key===S?l(f,p,_,C):null;case Ir:return _.key===S?u(f,p,_,C):null;case En:return S=_._init,d(f,p,S(_._payload),C)}if(Bs(_)||Os(_))return S!==null?null:c(f,p,_,C,null);oo(f,_)}return null}function m(f,p,_,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return f=f.get(_)||null,a(p,f,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Yi:return f=f.get(C.key===null?_:C.key)||null,l(p,f,C,S);case Ir:return f=f.get(C.key===null?_:C.key)||null,u(p,f,C,S);case En:var T=C._init;return m(f,p,_,T(C._payload),S)}if(Bs(C)||Os(C))return f=f.get(_)||null,c(p,f,C,S,null);oo(p,C)}return null}function g(f,p,_,C){for(var S=null,T=null,w=p,k=p=0,N=null;w!==null&&k<_.length;k++){w.index>k?(N=w,w=null):N=w.sibling;var M=d(f,w,_[k],C);if(M===null){w===null&&(w=N);break}t&&w&&M.alternate===null&&e(f,w),p=i(M,p,k),T===null?S=M:T.sibling=M,T=M,w=N}if(k===_.length)return n(f,w),ve&&Jn(f,k),S;if(w===null){for(;k<_.length;k++)w=h(f,_[k],C),w!==null&&(p=i(w,p,k),T===null?S=w:T.sibling=w,T=w);return ve&&Jn(f,k),S}for(w=r(f,w);k<_.length;k++)N=m(w,f,k,_[k],C),N!==null&&(t&&N.alternate!==null&&w.delete(N.key===null?k:N.key),p=i(N,p,k),T===null?S=N:T.sibling=N,T=N);return t&&w.forEach(function(O){return e(f,O)}),ve&&Jn(f,k),S}function v(f,p,_,C){var S=Os(_);if(typeof S!="function")throw Error(D(150));if(_=S.call(_),_==null)throw Error(D(151));for(var T=S=null,w=p,k=p=0,N=null,M=_.next();w!==null&&!M.done;k++,M=_.next()){w.index>k?(N=w,w=null):N=w.sibling;var O=d(f,w,M.value,C);if(O===null){w===null&&(w=N);break}t&&w&&O.alternate===null&&e(f,w),p=i(O,p,k),T===null?S=O:T.sibling=O,T=O,w=N}if(M.done)return n(f,w),ve&&Jn(f,k),S;if(w===null){for(;!M.done;k++,M=_.next())M=h(f,M.value,C),M!==null&&(p=i(M,p,k),T===null?S=M:T.sibling=M,T=M);return ve&&Jn(f,k),S}for(w=r(f,w);!M.done;k++,M=_.next())M=m(w,f,k,M.value,C),M!==null&&(t&&M.alternate!==null&&w.delete(M.key===null?k:M.key),p=i(M,p,k),T===null?S=M:T.sibling=M,T=M);return t&&w.forEach(function(E){return e(f,E)}),ve&&Jn(f,k),S}function y(f,p,_,C){if(typeof _=="object"&&_!==null&&_.type===Dr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Yi:e:{for(var S=_.key,T=p;T!==null;){if(T.key===S){if(S=_.type,S===Dr){if(T.tag===7){n(f,T.sibling),p=s(T,_.props.children),p.return=f,f=p;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===En&&Jh(S)===T.type){n(f,T.sibling),p=s(T,_.props),p.ref=Ps(f,T,_),p.return=f,f=p;break e}n(f,T);break}else e(f,T);T=T.sibling}_.type===Dr?(p=ir(_.props.children,f.mode,C,_.key),p.return=f,f=p):(C=Mo(_.type,_.key,_.props,null,f.mode,C),C.ref=Ps(f,p,_),C.return=f,f=C)}return o(f);case Ir:e:{for(T=_.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(f,p.sibling),p=s(p,_.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else e(f,p);p=p.sibling}p=El(_,f.mode,C),p.return=f,f=p}return o(f);case En:return T=_._init,y(f,p,T(_._payload),C)}if(Bs(_))return g(f,p,_,C);if(Os(_))return v(f,p,_,C);oo(f,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(f,p.sibling),p=s(p,_),p.return=f,f=p):(n(f,p),p=Nl(_,f.mode,C),p.return=f,f=p),o(f)):n(f,p)}return y}var is=fp(!0),pp=fp(!1),Li={},Kt=Xn(Li),ci=Xn(Li),hi=Xn(Li);function rr(t){if(t===Li)throw Error(D(174));return t}function pc(t,e){switch(ue(hi,e),ue(ci,t),ue(Kt,Li),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ql(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ql(e,t)}fe(Kt),ue(Kt,e)}function os(){fe(Kt),fe(ci),fe(hi)}function mp(t){rr(hi.current);var e=rr(Kt.current),n=ql(e,t.type);e!==n&&(ue(ci,t),ue(Kt,n))}function mc(t){ci.current===t&&(fe(Kt),fe(ci))}var ye=Xn(0);function Zo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sl=[];function gc(){for(var t=0;t<Sl.length;t++)Sl[t]._workInProgressVersionPrimary=null;Sl.length=0}var Eo=wn.ReactCurrentDispatcher,kl=wn.ReactCurrentBatchConfig,fr=0,we=null,Pe=null,ze=null,Ko=!1,Qs=!1,di=0,T_=0;function $e(){throw Error(D(321))}function vc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wt(t[n],e[n]))return!1;return!0}function _c(t,e,n,r,s,i){if(fr=i,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eo.current=t===null||t.memoizedState===null?E_:O_,t=n(r,s),Qs){i=0;do{if(Qs=!1,di=0,25<=i)throw Error(D(301));i+=1,ze=Pe=null,e.updateQueue=null,Eo.current=A_,t=n(r,s)}while(Qs)}if(Eo.current=Jo,e=Pe!==null&&Pe.next!==null,fr=0,ze=Pe=we=null,Ko=!1,e)throw Error(D(300));return t}function yc(){var t=di!==0;return di=0,t}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?we.memoizedState=ze=t:ze=ze.next=t,ze}function Mt(){if(Pe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=ze===null?we.memoizedState:ze.next;if(e!==null)ze=e,Pe=t;else{if(t===null)throw Error(D(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},ze===null?we.memoizedState=ze=t:ze=ze.next=t}return ze}function fi(t,e){return typeof e=="function"?e(t):e}function Tl(t){var e=Mt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((fr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,we.lanes|=c,pr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Wt(r,e.memoizedState)||(ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,we.lanes|=i,pr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cl(t){var e=Mt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wt(i,e.memoizedState)||(ct=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function gp(){}function vp(t,e){var n=we,r=Mt(),s=e(),i=!Wt(r.memoizedState,s);if(i&&(r.memoizedState=s,ct=!0),r=r.queue,wc(wp.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,pi(9,yp.bind(null,n,r,s,e),void 0,null),Le===null)throw Error(D(349));(fr&30)!==0||_p(n,e,s)}return s}function _p(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yp(t,e,n,r){e.value=n,e.getSnapshot=r,Sp(e)&&At(t,1,-1)}function wp(t,e,n){return n(function(){Sp(e)&&At(t,1,-1)})}function Sp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wt(t,n)}catch{return!0}}function ed(t){var e=Xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},e.queue=t,t=t.dispatch=N_.bind(null,we,t),[e.memoizedState,t]}function pi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kp(){return Mt().memoizedState}function Oo(t,e,n,r){var s=Xt();we.flags|=t,s.memoizedState=pi(1|e,n,void 0,r===void 0?null:r)}function Ia(t,e,n,r){var s=Mt();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,r!==null&&vc(r,o.deps)){s.memoizedState=pi(e,n,i,r);return}}we.flags|=t,s.memoizedState=pi(1|e,n,i,r)}function td(t,e){return Oo(8390656,8,t,e)}function wc(t,e){return Ia(2048,8,t,e)}function Tp(t,e){return Ia(4,2,t,e)}function Cp(t,e){return Ia(4,4,t,e)}function xp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Np(t,e,n){return n=n!=null?n.concat([t]):null,Ia(4,4,xp.bind(null,e,t),n)}function Sc(){}function Ep(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Op(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ap(t,e,n){return(fr&21)===0?(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=n):(Wt(n,e)||(n=bf(),we.lanes|=n,pr|=n,t.baseState=!0),e)}function C_(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var r=kl.transition;kl.transition={};try{t(!1),e()}finally{re=n,kl.transition=r}}function Rp(){return Mt().memoizedState}function x_(t,e,n){var r=zn(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mp(t)?Ip(e,n):(Dp(t,e,n),n=nt(),t=At(t,r,n),t!==null&&Pp(t,e,r))}function N_(t,e,n){var r=zn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mp(t))Ip(e,s);else{Dp(t,e,s);var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Wt(a,o))return}catch{}finally{}n=nt(),t=At(t,r,n),t!==null&&Pp(t,e,r)}}function Mp(t){var e=t.alternate;return t===we||e!==null&&e===we}function Ip(t,e){Qs=Ko=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dp(t,e,n){Zp(t)?(t=e.interleaved,t===null?(n.next=n,Ft===null?Ft=[e]:Ft.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(t=e.pending,t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function Pp(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ju(t,n)}}var Jo={readContext:Rt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},E_={readContext:Rt,useCallback:function(t,e){return Xt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:td,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oo(4194308,4,xp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oo(4,2,t,e)},useMemo:function(t,e){var n=Xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=x_.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=Xt();return t={current:t},e.memoizedState=t},useState:ed,useDebugValue:Sc,useDeferredValue:function(t){return Xt().memoizedState=t},useTransition:function(){var t=ed(!1),e=t[0];return t=C_.bind(null,t[1]),Xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,s=Xt();if(ve){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Le===null)throw Error(D(349));(fr&30)!==0||_p(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,td(wp.bind(null,r,i,t),[t]),r.flags|=2048,pi(9,yp.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xt(),e=Le.identifierPrefix;if(ve){var n=hn,r=cn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=di++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=T_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O_={readContext:Rt,useCallback:Ep,useContext:Rt,useEffect:wc,useImperativeHandle:Np,useInsertionEffect:Tp,useLayoutEffect:Cp,useMemo:Op,useReducer:Tl,useRef:kp,useState:function(){return Tl(fi)},useDebugValue:Sc,useDeferredValue:function(t){var e=Mt();return Ap(e,Pe.memoizedState,t)},useTransition:function(){var t=Tl(fi)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:gp,useSyncExternalStore:vp,useId:Rp,unstable_isNewReconciler:!1},A_={readContext:Rt,useCallback:Ep,useContext:Rt,useEffect:wc,useImperativeHandle:Np,useInsertionEffect:Tp,useLayoutEffect:Cp,useMemo:Op,useReducer:Cl,useRef:kp,useState:function(){return Cl(fi)},useDebugValue:Sc,useDeferredValue:function(t){var e=Mt();return Pe===null?e.memoizedState=t:Ap(e,Pe.memoizedState,t)},useTransition:function(){var t=Cl(fi)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:gp,useSyncExternalStore:vp,useId:Rp,unstable_isNewReconciler:!1};function kc(t,e){try{var n="",r=e;do n+=rv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s}}function pu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R_=typeof WeakMap=="function"?WeakMap:Map;function bp(t,e,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ta||(ta=!0,Tu=r),pu(t,e)},n}function Lp(t,e,n){n=fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){pu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){pu(t,e),typeof r!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=H_.bind(null,t,e,n),e.then(t,t))}function rd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sd(t,e,n,r,s){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fn(-1,1),e.tag=2,Fn(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=s,t)}var Fp,mu,Vp,zp;Fp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mu=function(){};Vp=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,rr(Kt.current);var i=null;switch(n){case"input":s=Wl(t,s),r=Wl(t,r),i=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),i=[];break;case"textarea":s=Ul(t,s),r=Ul(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ho)}$l(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Js.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Js.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&he("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};zp=function(t,e,n,r){n!==r&&(e.flags|=4)};function bs(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M_(t,e,n){var r=e.pendingProps;switch(dc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(e),null;case 1:return dt(e.type)&&Uo(),Ge(e),null;case 3:return r=e.stateNode,os(),fe(ht),fe(Ye),gc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ds(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,bt!==null&&(Nu(bt),bt=null))),mu(t,e),Ge(e),null;case 5:mc(e);var s=rr(hi.current);if(n=e.type,t!==null&&e.stateNode!=null)Vp(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return Ge(e),null}if(t=rr(Kt.current),Ds(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Yt]=e,r[ui]=i,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(s=0;s<js.length;s++)he(js[s],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":_h(r,i),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},he("invalid",r);break;case"textarea":wh(r,i),he("invalid",r)}$l(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&io(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&io(r.textContent,a,t),s=["children",""+a]):Js.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&he("scroll",r)}switch(n){case"input":Zi(r),yh(r,i,!0);break;case"textarea":Zi(r),Sh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ho)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yt]=e,t[ui]=r,Fp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gl(n,r),n){case"dialog":he("cancel",t),he("close",t),s=r;break;case"iframe":case"object":case"embed":he("load",t),s=r;break;case"video":case"audio":for(s=0;s<js.length;s++)he(js[s],t);s=r;break;case"source":he("error",t),s=r;break;case"img":case"image":case"link":he("error",t),he("load",t),s=r;break;case"details":he("toggle",t),s=r;break;case"input":_h(t,r),s=Wl(t,r),he("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),he("invalid",t);break;case"textarea":wh(t,r),s=Ul(t,r),he("invalid",t);break;default:s=r}$l(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Tf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ei(t,l):typeof l=="number"&&ei(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Js.hasOwnProperty(i)?l!=null&&i==="onScroll"&&he("scroll",t):l!=null&&Gu(t,i,l,o))}switch(n){case"input":Zi(t),yh(t,r,!1);break;case"textarea":Zi(t),Sh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?qr(t,!!r.multiple,i,!1):r.defaultValue!=null&&qr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ho)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ge(e),null;case 6:if(t&&e.stateNode!=null)zp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=rr(hi.current),rr(Kt.current),Ds(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yt]=e,(i=r.nodeValue!==n)&&(t=vt,t!==null))switch(t.tag){case 3:io(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&io(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=e,e.stateNode=r}return Ge(e),null;case 13:if(fe(ye),r=e.memoizedState,ve&&ut!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=ut;r;)r=un(r.nextSibling);return ss(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=Ds(e),t===null){if(!r)throw Error(D(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(D(317));r[Yt]=e}else ss(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return Ge(e),null}return bt!==null&&(Nu(bt),bt=null),(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?Ds(e):n=t.memoizedState!==null,r!==n&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(ye.current&1)!==0?be===0&&(be=3):Oc())),e.updateQueue!==null&&(e.flags|=4),Ge(e),null);case 4:return os(),mu(t,e),t===null&&ai(e.stateNode.containerInfo),Ge(e),null;case 10:return uc(e.type._context),Ge(e),null;case 17:return dt(e.type)&&Uo(),Ge(e),null;case 19:if(fe(ye),i=e.memoizedState,i===null)return Ge(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)bs(i,!1);else{if(be!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=Zo(t),o!==null){for(e.flags|=128,bs(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ue(ye,ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ae()>as&&(e.flags|=128,r=!0,bs(i,!1),e.lanes=4194304)}else{if(!r)if(t=Zo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ve)return Ge(e),null}else 2*Ae()-i.renderingStartTime>as&&n!==1073741824&&(e.flags|=128,r=!0,bs(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ae(),e.sibling=null,n=ye.current,ue(ye,r?n&1|2:n&1),e):(Ge(e),null);case 22:case 23:return Ec(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(gt&1073741824)!==0&&(Ge(e),e.subtreeFlags&6&&(e.flags|=8192)):Ge(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}var I_=wn.ReactCurrentOwner,ct=!1;function Ke(t,e,n,r){e.child=t===null?pp(e,null,n,r):is(e,t.child,n,r)}function id(t,e,n,r,s){n=n.render;var i=e.ref;return Xr(e,s),r=_c(t,e,n,r,i,s),n=yc(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vn(t,e,s)):(ve&&n&&hc(e),e.flags|=1,Ke(t,e,r,s),e.child)}function od(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ac(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Bp(t,e,i,r,s)):(t=Mo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,(t.lanes&s)===0){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:oi,n(o,r)&&t.ref===e.ref)return vn(t,e,s)}return e.flags|=1,t=Un(i,r),t.ref=e.ref,t.return=e,e.child=t}function Bp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(oi(i,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=i,(t.lanes&s)!==0)(t.flags&131072)!==0&&(ct=!0);else return e.lanes=t.lanes,vn(t,e,s)}return gu(t,e,n,r,s)}function Wp(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Hr,gt),gt|=n;else if((n&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(Hr,gt),gt|=r;else return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Hr,gt),gt|=t,null;else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ue(Hr,gt),gt|=r;return Ke(t,e,s,n),e.child}function jp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gu(t,e,n,r,s){var i=dt(n)?hr:Ye.current;return i=rs(e,i),Xr(e,s),n=_c(t,e,n,r,i,s),r=yc(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vn(t,e,s)):(ve&&r&&hc(e),e.flags|=1,Ke(t,e,n,s),e.child)}function ad(t,e,n,r,s){if(dt(n)){var i=!0;qo(e)}else i=!1;if(Xr(e,s),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),cp(e,n,r),hu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=dt(n)?hr:Ye.current,u=rs(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Yh(e,o,r,u),On=!1;var d=e.memoizedState;o.state=d,Qo(e,r,o,s),l=e.memoizedState,a!==r||d!==l||ht.current||On?(typeof c=="function"&&(cu(e,n,c,r),l=e.memoizedState),(a=On||Xh(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lp(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Dt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rt(l):(l=dt(n)?hr:Ye.current,l=rs(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Yh(e,o,r,l),On=!1,d=e.memoizedState,o.state=d,Qo(e,r,o,s);var g=e.memoizedState;a!==h||d!==g||ht.current||On?(typeof m=="function"&&(cu(e,n,m,r),g=e.memoizedState),(u=On||Xh(e,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return vu(t,e,n,r,i,s)}function vu(t,e,n,r,s,i){jp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&$h(e,n,!1),vn(t,e,i);r=e.stateNode,I_.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=is(e,t.child,null,i),e.child=is(e,null,a,i)):Ke(t,e,a,i),e.memoizedState=r.state,s&&$h(e,n,!0),e.child}function Hp(t){var e=t.stateNode;e.pendingContext?qh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qh(t,e.context,!1),pc(t,e.containerInfo)}function ld(t,e,n,r,s){return ss(),fc(s),e.flags|=256,Ke(t,e,n,r),e.child}var ao={dehydrated:null,treeContext:null,retryLane:0};function lo(t){return{baseLanes:t,cachePool:null,transitions:null}}function ud(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function Up(t,e,n){var r=e.pendingProps,s=ye.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ue(ye,s&1),t===null)return fu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=s):i=sa(s,r,0,null),t=ir(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=lo(n),e.memoizedState=ao,t):_u(e,s));if(s=t.memoizedState,s!==null){if(a=s.dehydrated,a!==null){if(o)return e.flags&256?(e.flags&=-257,uo(t,e,n,Error(D(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=sa({mode:"visible",children:r.children},s,0,null),i=ir(i,s,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,(e.mode&1)!==0&&is(e,t.child,null,n),e.child.memoizedState=lo(n),e.memoizedState=ao,i);if((e.mode&1)===0)e=uo(t,e,n,null);else if(a.data==="$!")e=uo(t,e,n,Error(D(419)));else if(r=(n&t.childLanes)!==0,ct||r){if(r=Le,r!==null){switch(n&-n){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}r=(i&(r.suspendedLanes|n))!==0?0:i,r!==0&&r!==s.retryLane&&(s.retryLane=r,At(t,r,-1))}Oc(),e=uo(t,e,n,Error(D(421)))}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=U_.bind(null,t),a._reactRetry=e,e=null):(n=s.treeContext,ut=un(a.nextSibling),vt=e,ve=!0,bt=null,n!==null&&(Ct[xt++]=cn,Ct[xt++]=hn,Ct[xt++]=dr,cn=n.id,hn=n.overflow,dr=e),e=_u(e,e.pendingProps.children),e.flags|=4096);return e}return i?(r=hd(t,e,r.children,r.fallback,n),i=e.child,s=t.child.memoizedState,i.memoizedState=s===null?lo(n):ud(s,n),i.childLanes=t.childLanes&~n,e.memoizedState=ao,r):(n=cd(t,e,r.children,n),e.memoizedState=null,n)}return i?(r=hd(t,e,r.children,r.fallback,n),i=e.child,s=t.child.memoizedState,i.memoizedState=s===null?lo(n):ud(s,n),i.childLanes=t.childLanes&~n,e.memoizedState=ao,r):(n=cd(t,e,r.children,n),e.memoizedState=null,n)}function _u(t,e){return e=sa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cd(t,e,n,r){var s=t.child;return t=s.sibling,n=Un(s,{mode:"visible",children:n}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n}function hd(t,e,n,r,s){var i=e.mode;t=t.child;var o=t.sibling,a={mode:"hidden",children:n};return(i&1)===0&&e.child!==t?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Un(t,a),n.subtreeFlags=t.subtreeFlags&14680064),o!==null?r=Un(o,r):(r=ir(r,i,s,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function uo(t,e,n,r){return r!==null&&fc(r),is(e,t.child,null,n),t=_u(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uu(t.return,e,n)}function xl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qp(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ke(t,e,r.children,n),r=ye.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dd(t,n,e);else if(t.tag===19)dd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ue(ye,r),(e.mode&1)===0)e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Zo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xl(e,!0,n,null,i);break;case"together":xl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pr|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Un(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Un(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function D_(t,e,n){switch(e.tag){case 3:Hp(e),ss();break;case 5:mp(e);break;case 1:dt(e.type)&&qo(e);break;case 4:pc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ue($o,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ue(ye,ye.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?Up(t,e,n):(ue(ye,ye.current&1),t=vn(t,e,n),t!==null?t.sibling:null);ue(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return qp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,Wp(t,e,n)}return vn(t,e,n)}function P_(t,e){switch(dc(e),e.tag){case 1:return dt(e.type)&&Uo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return os(),fe(ht),fe(Ye),gc(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return mc(e),null;case 13:if(fe(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(ye),null;case 4:return os(),null;case 10:return uc(e.type._context),null;case 22:case 23:return Ec(),null;case 24:return null;default:return null}}var co=!1,Qe=!1,b_=typeof WeakSet=="function"?WeakSet:Set,B=null;function jr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function yu(t,e,n){try{n()}catch(r){Te(t,e,r)}}var fd=!1;function L_(t,e){if(ru=Bo,t=Zf(),oc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++c===r&&(l=o),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(su={focusedElem:t,selectionRange:n},Bo=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var g=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,f=e.stateNode,p=f.getSnapshotBeforeUpdate(e.elementType===e.type?v:Dt(e.type,v),y);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;if(_.nodeType===1)_.textContent="";else if(_.nodeType===9){var C=_.body;C!=null&&(C.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){Te(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return g=fd,fd=!1,g}function Xs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&yu(e,n,i)}s=s.next}while(s!==r)}}function Da(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $p(t){var e=t.alternate;e!==null&&(t.alternate=null,$p(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yt],delete e[ui],delete e[au],delete e[y_],delete e[w_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gp(t){return t.tag===5||t.tag===3||t.tag===4}function pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Su(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ho));else if(r!==4&&(t=t.child,t!==null))for(Su(t,e,n),t=t.sibling;t!==null;)Su(t,e,n),t=t.sibling}function ku(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ku(t,e,n),t=t.sibling;t!==null;)ku(t,e,n),t=t.sibling}var je=null,Pt=!1;function xn(t,e,n){for(n=n.child;n!==null;)Qp(t,e,n),n=n.sibling}function Qp(t,e,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(xa,n)}catch{}switch(n.tag){case 5:Qe||jr(n,e);case 6:var r=je,s=Pt;je=null,xn(t,e,n),je=r,Pt=s,je!==null&&(Pt?(t=je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(Pt?(t=je,n=n.stateNode,t.nodeType===8?yl(t.parentNode,n):t.nodeType===1&&yl(t,n),si(t)):yl(je,n.stateNode));break;case 4:r=je,s=Pt,je=n.stateNode.containerInfo,Pt=!0,xn(t,e,n),je=r,Pt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&((i&2)!==0||(i&4)!==0)&&yu(n,e,o),s=s.next}while(s!==r)}xn(t,e,n);break;case 1:if(!Qe&&(jr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,e,a)}xn(t,e,n);break;case 21:xn(t,e,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,xn(t,e,n),Qe=r):xn(t,e,n);break;default:xn(t,e,n)}}function md(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new b_),e.forEach(function(r){var s=q_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function It(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,Pt=!1;break e;case 3:je=a.stateNode.containerInfo,Pt=!0;break e;case 4:je=a.stateNode.containerInfo,Pt=!0;break e}a=a.return}if(je===null)throw Error(D(160));Qp(i,o,s),je=null,Pt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Te(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xp(e,t),e=e.sibling}function Xp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(It(e,t),Gt(t),r&4){try{Xs(3,t,t.return),Da(3,t)}catch(g){Te(t,t.return,g)}try{Xs(5,t,t.return)}catch(g){Te(t,t.return,g)}}break;case 1:It(e,t),Gt(t),r&512&&n!==null&&jr(n,n.return);break;case 5:if(It(e,t),Gt(t),r&512&&n!==null&&jr(n,n.return),t.flags&32){var s=t.stateNode;try{ei(s,"")}catch(g){Te(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&_f(s,i),Gl(a,o);var u=Gl(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Tf(s,h):c==="dangerouslySetInnerHTML"?Sf(s,h):c==="children"?ei(s,h):Gu(s,c,h,u)}switch(a){case"input":jl(s,i);break;case"textarea":yf(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?qr(s,!!i.multiple,m,!1):d!==!!i.multiple&&(i.defaultValue!=null?qr(s,!!i.multiple,i.defaultValue,!0):qr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ui]=i}catch(g){Te(t,t.return,g)}}break;case 6:if(It(e,t),Gt(t),r&4){if(t.stateNode===null)throw Error(D(162));u=t.stateNode,c=t.memoizedProps;try{u.nodeValue=c}catch(g){Te(t,t.return,g)}}break;case 3:if(It(e,t),Gt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{si(e.containerInfo)}catch(g){Te(t,t.return,g)}break;case 4:It(e,t),Gt(t);break;case 13:It(e,t),Gt(t),u=t.child,u.flags&8192&&u.memoizedState!==null&&(u.alternate===null||u.alternate.memoizedState===null)&&(xc=Ae()),r&4&&md(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qe=(c=Qe)||u,It(e,t),Qe=c):It(e,t),Gt(t),r&8192){c=t.memoizedState!==null;e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kf("display",o))}catch(g){Te(t,t.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Te(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(c&&!u&&(t.mode&1)!==0)for(B=t,t=t.child;t!==null;){for(u=B=t;B!==null;){switch(c=B,h=c.child,c.tag){case 0:case 11:case 14:case 15:Xs(4,c,c.return);break;case 1:if(jr(c,c.return),i=c.stateNode,typeof i.componentWillUnmount=="function"){d=c,m=c.return;try{s=d,i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(g){Te(d,m,g)}}break;case 5:jr(c,c.return);break;case 22:if(c.memoizedState!==null){vd(u);continue}}h!==null?(h.return=c,B=h):vd(u)}t=t.sibling}}break;case 19:It(e,t),Gt(t),r&4&&md(t);break;case 21:break;default:It(e,t),Gt(t)}}function Gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gp(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ei(s,""),r.flags&=-33);var i=pd(t);ku(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pd(t);Su(t,a,o);break;default:throw Error(D(161))}}catch(l){Te(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F_(t,e,n){B=t,Yp(t)}function Yp(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||co;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Qe;a=co;var u=Qe;if(co=o,(Qe=l)&&!u)for(B=s;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?_d(s):l!==null?(l.return=o,B=l):_d(s);for(;i!==null;)B=i,Yp(i),i=i.sibling;B=s,co=a,Qe=u}gd(t)}else(s.subtreeFlags&8772)!==0&&i!==null?(i.return=s,B=i):gd(t)}}function gd(t){for(;B!==null;){var e=B;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Qe||Da(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Dt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qh(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&si(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(D(163))}Qe||e.flags&512&&wu(e)}catch(d){Te(e,e.return,d)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function vd(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function _d(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Da(4,e)}catch(l){Te(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Te(e,s,l)}}var i=e.return;try{wu(e)}catch(l){Te(e,i,l)}break;case 5:var o=e.return;try{wu(e)}catch(l){Te(e,o,l)}}}catch(l){Te(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var V_=Math.ceil,ea=wn.ReactCurrentDispatcher,Tc=wn.ReactCurrentOwner,Ot=wn.ReactCurrentBatchConfig,te=0,Le=null,Me=null,He=0,gt=0,Hr=Xn(0),be=0,mi=null,pr=0,Pa=0,Cc=0,Ys=null,at=null,xc=0,as=1/0,on=null,ta=!1,Tu=null,Vn=null,ho=!1,Dn=null,na=0,Zs=0,Cu=null,Ao=-1,Ro=0;function nt(){return(te&6)!==0?Ae():Ao!==-1?Ao:Ao=Ae()}function zn(t){return(t.mode&1)===0?1:(te&2)!==0&&He!==0?He&-He:k_.transition!==null?(Ro===0&&(Ro=bf()),Ro):(t=re,t!==0||(t=window.event,t=t===void 0?16:jf(t.type)),t)}function At(t,e,n){if(50<Zs)throw Zs=0,Cu=null,Error(D(185));var r=ba(t,e);return r===null?null:(Di(r,e,n),((te&2)===0||r!==Le)&&(r===Le&&((te&2)===0&&(Pa|=e),be===4&&Mn(r,He)),ft(r,n),e===1&&te===0&&(t.mode&1)===0&&(as=Ae()+500,Ra&&Yn())),r)}function ba(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Zp(t){return(Le!==null||Ft!==null)&&(t.mode&1)!==0&&(te&2)===0}function ft(t,e){var n=t.callbackNode;kv(t,e);var r=zo(t,t===Le?He:0);if(r===0)n!==null&&Ch(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ch(n),e===1)t.tag===0?S_(yd.bind(null,t)):ap(yd.bind(null,t)),v_(function(){te===0&&Yn()}),n=null;else{switch(Lf(r)){case 1:n=Ku;break;case 4:n=Df;break;case 16:n=Vo;break;case 536870912:n=Pf;break;default:n=Vo}n=im(n,Kp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Kp(t,e){if(Ao=-1,Ro=0,(te&6)!==0)throw Error(D(327));var n=t.callbackNode;if(Yr()&&t.callbackNode!==n)return null;var r=zo(t,t===Le?He:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=ra(t,r);else{e=r;var s=te;te|=2;var i=em();(Le!==t||He!==e)&&(on=null,as=Ae()+500,sr(t,e));do try{W_();break}catch(a){Jp(t,a)}while(1);lc(),ea.current=i,te=s,Me!==null?e=0:(Le=null,He=0,e=be)}if(e!==0){if(e===2&&(s=Kl(t),s!==0&&(r=s,e=xu(t,s))),e===1)throw n=mi,sr(t,0),Mn(t,r),ft(t,Ae()),n;if(e===6)Mn(t,r);else{if(s=t.current.alternate,(r&30)===0&&!z_(s)&&(e=ra(t,r),e===2&&(i=Kl(t),i!==0&&(r=i,e=xu(t,i))),e===1))throw n=mi,sr(t,0),Mn(t,r),ft(t,Ae()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:er(t,at,on);break;case 3:if(Mn(t,r),(r&130023424)===r&&(e=xc+500-Ae(),10<e)){if(zo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ou(er.bind(null,t,at,on),e);break}er(t,at,on);break;case 4:if(Mn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Bt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V_(r/1960))-r,10<r){t.timeoutHandle=ou(er.bind(null,t,at,on),r);break}er(t,at,on);break;case 5:er(t,at,on);break;default:throw Error(D(329))}}}return ft(t,Ae()),t.callbackNode===n?Kp.bind(null,t):null}function xu(t,e){var n=Ys;return t.current.memoizedState.isDehydrated&&(sr(t,e).flags|=256),t=ra(t,e),t!==2&&(e=at,at=n,e!==null&&Nu(e)),t}function Nu(t){at===null?at=t:at.push.apply(at,t)}function z_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e){for(e&=~Cc,e&=~Pa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),r=1<<n;t[n]=-1,e&=~r}}function yd(t){if((te&6)!==0)throw Error(D(327));Yr();var e=zo(t,0);if((e&1)===0)return ft(t,Ae()),null;var n=ra(t,e);if(t.tag!==0&&n===2){var r=Kl(t);r!==0&&(e=r,n=xu(t,r))}if(n===1)throw n=mi,sr(t,0),Mn(t,e),ft(t,Ae()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,er(t,at,on),ft(t,Ae()),null}function Nc(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(as=Ae()+500,Ra&&Yn())}}function mr(t){Dn!==null&&Dn.tag===0&&(te&6)===0&&Yr();var e=te;te|=1;var n=Ot.transition,r=re;try{if(Ot.transition=null,re=1,t)return t()}finally{re=r,Ot.transition=n,te=e,(te&6)===0&&Yn()}}function Ec(){gt=Hr.current,fe(Hr)}function sr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g_(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(dc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uo();break;case 3:os(),fe(ht),fe(Ye),gc();break;case 5:mc(r);break;case 4:os();break;case 13:fe(ye);break;case 19:fe(ye);break;case 10:uc(r.type._context);break;case 22:case 23:Ec()}n=n.return}if(Le=t,Me=t=Un(t.current,null),He=gt=e,be=0,mi=null,Cc=Pa=pr=0,at=Ys=null,Ft!==null){for(e=0;e<Ft.length;e++)if(n=Ft[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ft=null}return t}function Jp(t,e){do{var n=Me;try{if(lc(),Eo.current=Jo,Ko){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ko=!1}if(fr=0,ze=Pe=we=null,Qs=!1,di=0,Tc.current=null,n===null||n.return===null){be=1,mi=e,Me=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=He,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=rd(o);if(m!==null){m.flags&=-257,sd(m,o,a,i,e),m.mode&1&&nd(i,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if((e&1)===0){nd(i,u,e),Oc();break e}l=Error(D(426))}}else if(ve&&a.mode&1){var y=rd(o);if(y!==null){(y.flags&65536)===0&&(y.flags|=256),sd(y,o,a,i,e),fc(l);break e}}i=l,be!==4&&(be=2),Ys===null?Ys=[i]:Ys.push(i),l=kc(l,a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var f=bp(a,l,e);Gh(a,f);break e;case 1:i=l;var p=a.type,_=a.stateNode;if((a.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Vn===null||!Vn.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=Lp(a,i,e);Gh(a,C);break e}}a=a.return}while(a!==null)}nm(n)}catch(S){e=S,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(1)}function em(){var t=ea.current;return ea.current=Jo,t===null?Jo:t}function Oc(){(be===0||be===3||be===2)&&(be=4),Le===null||(pr&268435455)===0&&(Pa&268435455)===0||Mn(Le,He)}function ra(t,e){var n=te;te|=2;var r=em();(Le!==t||He!==e)&&(on=null,sr(t,e));do try{B_();break}catch(s){Jp(t,s)}while(1);if(lc(),te=n,ea.current=r,Me!==null)throw Error(D(261));return Le=null,He=0,be}function B_(){for(;Me!==null;)tm(Me)}function W_(){for(;Me!==null&&!fv();)tm(Me)}function tm(t){var e=sm(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?nm(t):Me=e,Tc.current=null}function nm(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=M_(n,e,gt),n!==null){Me=n;return}}else{if(n=P_(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{be=6,Me=null;return}}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);be===0&&(be=5)}function er(t,e,n){var r=re,s=Ot.transition;try{Ot.transition=null,re=1,j_(t,e,n,r)}finally{Ot.transition=s,re=r}return null}function j_(t,e,n,r){do Yr();while(Dn!==null);if((te&6)!==0)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Tv(t,i),t===Le&&(Me=Le=null,He=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ho||(ho=!0,im(Vo,function(){return Yr(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=Ot.transition,Ot.transition=null;var o=re;re=1;var a=te;te|=4,Tc.current=null,L_(t,n),Xp(n,t),u_(su),Bo=!!ru,su=ru=null,t.current=n,F_(n),pv(),te=a,re=o,Ot.transition=i}else t.current=n;if(ho&&(ho=!1,Dn=t,na=s),i=t.pendingLanes,i===0&&(Vn=null),vv(n.stateNode),ft(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(ta)throw ta=!1,t=Tu,Tu=null,t;return(na&1)!==0&&t.tag!==0&&Yr(),i=t.pendingLanes,(i&1)!==0?t===Cu?Zs++:(Zs=0,Cu=t):Zs=0,Yn(),null}function Yr(){if(Dn!==null){var t=Lf(na),e=Ot.transition,n=re;try{if(Ot.transition=null,re=16>t?16:t,Dn===null)var r=!1;else{if(t=Dn,Dn=null,na=0,(te&6)!==0)throw Error(D(331));var s=te;for(te|=4,B=t.current;B!==null;){var i=B,o=i.child;if((B.flags&16)!==0){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:Xs(8,c,i)}var h=c.child;if(h!==null)h.return=c,B=h;else for(;B!==null;){c=B;var d=c.sibling,m=c.return;if($p(c),c===u){B=null;break}if(d!==null){d.return=m,B=d;break}B=m}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}B=i}}if((i.subtreeFlags&2064)!==0&&o!==null)o.return=i,B=o;else e:for(;B!==null;){if(i=B,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Xs(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,B=f;break e}B=i.return}}var p=t.current;for(B=p;B!==null;){o=B;var _=o.child;if((o.subtreeFlags&2064)!==0&&_!==null)_.return=o,B=_;else e:for(o=p;B!==null;){if(a=B,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Da(9,a)}}catch(S){Te(a,a.return,S)}if(a===o){B=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,B=C;break e}B=a.return}}if(te=s,Yn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(xa,t)}catch{}r=!0}return r}finally{re=n,Ot.transition=e}}return!1}function wd(t,e,n){e=kc(n,e),e=bp(t,e,1),Fn(t,e),e=nt(),t=ba(t,1),t!==null&&(Di(t,1,e),ft(t,e))}function Te(t,e,n){if(t.tag===3)wd(t,t,n);else for(;e!==null;){if(e.tag===3){wd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vn===null||!Vn.has(r))){t=kc(n,t),t=Lp(e,t,1),Fn(e,t),t=nt(),e=ba(e,1),e!==null&&(Di(e,1,t),ft(e,t));break}}e=e.return}}function H_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nt(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(He&n)===n&&(be===4||be===3&&(He&130023424)===He&&500>Ae()-xc?sr(t,0):Cc|=n),ft(t,e)}function rm(t,e){e===0&&((t.mode&1)===0?e=1:(e=eo,eo<<=1,(eo&130023424)===0&&(eo=4194304)));var n=nt();t=ba(t,e),t!==null&&(Di(t,e,n),ft(t,n))}function U_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rm(t,n)}function q_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),rm(t,n)}var sm;sm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)ct=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return ct=!1,D_(t,e,n);ct=(t.flags&131072)!==0}else ct=!1,ve&&(e.flags&1048576)!==0&&hp(e,Yo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var s=rs(e,Ye.current);Xr(e,n),s=_c(null,e,r,t,s,n);var i=yc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(r)?(i=!0,qo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cc(e),s.updater=Ma,e.stateNode=s,s._reactInternals=e,hu(e,r,t,n),e=vu(null,e,r,!0,i,n)):(e.tag=0,ve&&i&&hc(e),Ke(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=G_(r),t=Dt(r,t),s){case 0:e=gu(null,e,r,t,n);break e;case 1:e=ad(null,e,r,t,n);break e;case 11:e=id(null,e,r,t,n);break e;case 14:e=od(null,e,r,Dt(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dt(r,s),gu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dt(r,s),ad(t,e,r,s,n);case 3:e:{if(Hp(e),t===null)throw Error(D(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lp(t,e),Qo(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Error(D(423)),e=ld(t,e,r,n,s);break e}else if(r!==s){s=Error(D(424)),e=ld(t,e,r,n,s);break e}else for(ut=un(e.stateNode.containerInfo.firstChild),vt=e,ve=!0,bt=null,n=pp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ss(),r===s){e=vn(t,e,n);break e}Ke(t,e,r,n)}e=e.child}return e;case 5:return mp(e),t===null&&fu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,iu(r,s)?o=null:i!==null&&iu(r,i)&&(e.flags|=32),jp(t,e),Ke(t,e,o,n),e.child;case 6:return t===null&&fu(e),null;case 13:return Up(t,e,n);case 4:return pc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=is(e,null,r,n):Ke(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dt(r,s),id(t,e,r,s,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ue($o,r._currentValue),r._currentValue=o,i!==null)if(Wt(i.value,o)){if(i.children===s.children&&!ht.current){e=vn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=fn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),uu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),uu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ke(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Xr(e,n),s=Rt(s),r=r(s),e.flags|=1,Ke(t,e,r,n),e.child;case 14:return r=e.type,s=Dt(r,e.pendingProps),s=Dt(r.type,s),od(t,e,r,s,n);case 15:return Bp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dt(r,s),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,dt(r)?(t=!0,qo(e)):t=!1,Xr(e,n),cp(e,r,s),hu(e,r,s,n),vu(null,e,r,!0,t,n);case 19:return qp(t,e,n);case 22:return Wp(t,e,n)}throw Error(D(156,e.tag))};function im(t,e){return If(t,e)}function $_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,e,n,r){return new $_(t,e,n,r)}function Ac(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G_(t){if(typeof t=="function")return Ac(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xu)return 11;if(t===Yu)return 14}return 2}function Un(t,e){var n=t.alternate;return n===null?(n=Nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mo(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ac(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Dr:return ir(n.children,s,i,e);case Qu:o=8,s|=8;break;case Fl:return t=Nt(12,n,e,s|2),t.elementType=Fl,t.lanes=i,t;case Vl:return t=Nt(13,n,e,s),t.elementType=Vl,t.lanes=i,t;case zl:return t=Nt(19,n,e,s),t.elementType=zl,t.lanes=i,t;case mf:return sa(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ff:o=10;break e;case pf:o=9;break e;case Xu:o=11;break e;case Yu:o=14;break e;case En:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Nt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ir(t,e,n,r){return t=Nt(7,t,r,e),t.lanes=n,t}function sa(t,e,n,r){return t=Nt(22,t,r,e),t.elementType=mf,t.lanes=n,t.stateNode={},t}function Nl(t,e,n){return t=Nt(6,t,null,e),t.lanes=n,t}function El(t,e,n){return e=Nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rc(t,e,n,r,s,i,o,a,l){return t=new Q_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Nt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(i),t}function X_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ir,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function om(t){if(!t)return Hn;t=t._reactInternals;e:{if(kr(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(dt(n))return op(t,n,e)}return e}function am(t,e,n,r,s,i,o,a,l){return t=Rc(n,r,!0,t,s,i,o,a,l),t.context=om(null),n=t.current,r=nt(),s=zn(n),i=fn(r,s),i.callback=e!=null?e:null,Fn(n,i),t.current.lanes=s,Di(t,s,r),ft(t,r),t}function La(t,e,n,r){var s=e.current,i=nt(),o=zn(s);return n=om(n),e.context===null?e.context=n:e.pendingContext=n,e=fn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Fn(s,e),t=At(s,o,i),t!==null&&No(t,s,o),o}function ia(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mc(t,e){Sd(t,e),(t=t.alternate)&&Sd(t,e)}function Y_(){return null}var lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ic(t){this._internalRoot=t}Fa.prototype.render=Ic.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));La(t,e,null,null)};Fa.prototype.unmount=Ic.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mr(function(){La(null,t,null,null)}),e[gn]=null}};function Fa(t){this._internalRoot=t}Fa.prototype.unstable_scheduleHydration=function(t){if(t){var e=zf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rn.length&&e!==0&&e<Rn[n].priority;n++);Rn.splice(n,0,t),n===0&&Wf(t)}};function Dc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Va(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kd(){}function Z_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ia(o);i.call(u)}}var o=am(e,r,t,0,null,!1,!1,"",kd);return t._reactRootContainer=o,t[gn]=o.current,ai(t.nodeType===8?t.parentNode:t),mr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ia(l);a.call(u)}}var l=Rc(t,0,!1,null,null,!1,!1,"",kd);return t._reactRootContainer=l,t[gn]=l.current,ai(t.nodeType===8?t.parentNode:t),mr(function(){La(e,l,n,r)}),l}function za(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ia(o);a.call(l)}}La(e,o,t,s)}else o=Z_(n,e,t,s,r);return ia(o)}Ff=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ws(e.pendingLanes);n!==0&&(Ju(e,n|1),ft(e,Ae()),(te&6)===0&&(as=Ae()+500,Yn()))}break;case 13:var r=nt();mr(function(){return At(t,1,r)}),Mc(t,1)}};ec=function(t){if(t.tag===13){var e=nt();At(t,134217728,e),Mc(t,134217728)}};Vf=function(t){if(t.tag===13){var e=nt(),n=zn(t);At(t,n,e),Mc(t,n)}};zf=function(){return re};Bf=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};Xl=function(t,e,n){switch(e){case"input":if(jl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Aa(r);if(!s)throw Error(D(90));vf(r),jl(r,s)}}}break;case"textarea":yf(t,n);break;case"select":e=n.value,e!=null&&qr(t,!!n.multiple,e,!1)}};Nf=Nc;Ef=mr;var K_={usingClientEntryPoint:!1,Events:[bi,Fr,Aa,Cf,xf,Nc]},Ls={findFiberByHostInstance:nr,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},J_={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rf(t),t===null?null:t.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||Y_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{xa=fo.inject(J_),Zt=fo}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K_;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dc(e))throw Error(D(200));return X_(t,e,null,n)};St.createRoot=function(t,e){if(!Dc(t))throw Error(D(299));var n=!1,r="",s=lm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Rc(t,1,!1,null,null,n,!1,r,s),t[gn]=e.current,ai(t.nodeType===8?t.parentNode:t),new Ic(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Rf(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return mr(t)};St.hydrate=function(t,e,n){if(!Va(e))throw Error(D(200));return za(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!Dc(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=lm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=am(e,null,t,1,n!=null?n:null,s,!1,i,o),t[gn]=e.current,ai(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Fa(e)};St.render=function(t,e,n){if(!Va(e))throw Error(D(200));return za(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!Va(t))throw Error(D(40));return t._reactRootContainer?(mr(function(){za(null,null,t,!1,function(){t._reactRootContainer=null,t[gn]=null})}),!0):!1};St.unstable_batchedUpdates=Nc;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Va(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return za(t,e,n,!1,r)};St.version="18.1.0-next-22edb9f77-20220426";function um(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(um)}catch(t){console.error(t)}}um(),lf.exports=St;var Td=lf.exports;bl.createRoot=Td.createRoot,bl.hydrateRoot=Td.hydrateRoot;const ey={"4n":1,"4t":2/3,"8n":1/2,"8t":1/3,"16n":1/4,"16t":1/6,"32n":1/8},Ba=t=>ey[t],or=t=>Ba(t.unit)*t.count,cm=t=>{switch(t.denominator){case 4:return"4n";case 8:return"8n";case 16:return"16n"}},gi=t=>or({unit:cm(t),count:t.numerator}),Eu=[{name:"4th",unit:"4n"},{name:"4th T",unit:"4t"},{name:"8th",unit:"8n"},{name:"8th T",unit:"8t"},{name:"16th",unit:"16n"},{name:"16th T",unit:"16t"},{name:"32nd",unit:"32n"}],hm="14.7.77",Cd=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),xd=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Ou=(t,e)=>({startTime:e,type:"setValue",value:t}),dm=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),fm=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),Ur=t=>t.type==="exponentialRampToValue",oa=t=>t.type==="linearRampToValue",An=t=>Ur(t)||oa(t),Pc=t=>t.type==="setValue",an=t=>t.type==="setValueCurve",aa=(t,e,n,r)=>{const s=t[e];return s===void 0?r:An(s)||Pc(s)?s.value:an(s)?s.values[s.values.length-1]:fm(n,aa(t,e-1,s.startTime,r),s)},Nd=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:An(n)?[n.endTime,n.value]:Pc(n)?[n.startTime,n.value]:an(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,aa(t,e-1,n.startTime,s)],Au=t=>t.type==="cancelAndHold",Ru=t=>t.type==="cancelScheduledValues",Nn=t=>Au(t)||Ru(t)?t.cancelTime:Ur(t)||oa(t)?t.endTime:t.startTime,Ed=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,Od=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),ty=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},ny=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return ty(r,s)},po=t=>t.type==="setTarget";class ry{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Nn(e);if(Au(e)||Ru(e)){const r=this._automationEvents.findIndex(i=>Ru(e)&&an(i)?i.startTime+i.duration>=n:Nn(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Au(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&An(s)){if(po(i))throw new Error("The internal list is malformed.");const o=an(i)?i.startTime+i.duration:Nn(i),a=an(i)?i.values[i.values.length-1]:i.value,l=Ur(s)?Ed(n,o,a,s):Od(n,o,a,s),u=Ur(s)?Cd(l,n,this._currenTime):xd(l,n,this._currenTime);this._automationEvents.push(u)}i!==void 0&&po(i)&&this._automationEvents.push(Ou(this.getValue(n),n)),i!==void 0&&an(i)&&i.startTime+i.duration>n&&(this._automationEvents[this._automationEvents.length-1]=dm(new Float32Array([6,7]),i.startTime,n-i.startTime))}}else{const r=this._automationEvents.findIndex(o=>Nn(o)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&an(s)&&Nn(s)+s.duration>n)return!1;const i=Ur(e)?Cd(e.value,e.endTime,this._currenTime):oa(e)?xd(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(an(e)&&n+e.duration>Nn(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Nn(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];po(s)&&r.unshift(Ou(aa(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Nn(o)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&po(i)&&(r===void 0||!An(r)||r.insertTime>e))return fm(e,aa(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Pc(i)&&(r===void 0||!An(r)))return i.value;if(i!==void 0&&an(i)&&(r===void 0||!An(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?ny(e,i):i.values[i.values.length-1];if(i!==void 0&&An(i)&&(r===void 0||!An(r)))return i.value;if(r!==void 0&&Ur(r)){const[o,a]=Nd(this._automationEvents,s,i,r,this._defaultValue);return Ed(e,o,a,r)}if(r!==void 0&&oa(r)){const[o,a]=Nd(this._automationEvents,s,i,r,this._defaultValue);return Od(e,o,a,r)}return this._defaultValue}}const sy=t=>({cancelTime:t,type:"cancelAndHold"}),iy=t=>({cancelTime:t,type:"cancelScheduledValues"}),oy=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),ay=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),ly=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),uy=()=>new DOMException("","AbortError"),cy=t=>(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],a=>a[0]===n&&a[1]===r,o)},hy=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},dy=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},ls=new WeakSet,pm=new WeakMap,bc=new WeakMap,mm=new WeakMap,Lc=new WeakMap,Wa=new WeakMap,gm=new WeakMap,Mu=new WeakMap,Iu=new WeakMap,Du=new WeakMap,vm={construct(){return vm}},fy=t=>{try{const e=new Proxy(t,vm);new e}catch{return!1}return!0},Ad=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Rd=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(Ad);for(;s!==null;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(Ad)}return[n.join(";"),r]},Md=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Id=t=>{if(!fy(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},py=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>{let m=0;return(g,v,y={credentials:"omit"})=>{const f=c.get(g);if(f!==void 0&&f.has(v))return Promise.resolve();const p=u.get(g);if(p!==void 0){const S=p.get(v);if(S!==void 0)return S}const _=i(g),C=_.audioWorklet===void 0?s(v).then(([S,T])=>{const[w,k]=Rd(S,T),N=`${w};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${k}
})})(window,'_AWGS')`;return n(N)}).then(()=>{const S=d._AWGS.pop();if(S===void 0)throw new SyntaxError;r(_.currentTime,_.sampleRate,()=>S(class{},void 0,(T,w)=>{if(T.trim()==="")throw e();const k=Iu.get(_);if(k!==void 0){if(k.has(T))throw e();Id(w),Md(w.parameterDescriptors),k.set(T,w)}else Id(w),Md(w.parameterDescriptors),Iu.set(_,new Map([[T,w]]))},_.sampleRate,void 0,void 0))}):Promise.all([s(v),Promise.resolve(t(h,h))]).then(([[S,T],w])=>{const k=m+1;m=k;const[N,M]=Rd(S,T),A=`${N};((AudioWorkletProcessor,registerProcessor)=>{${M}
})(${w?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${w?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${w?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${k}',class extends AudioWorkletProcessor{process(){return !1}})`,W=new Blob([A],{type:"application/javascript; charset=utf-8"}),F=URL.createObjectURL(W);return _.audioWorklet.addModule(F,y).then(()=>{if(a(_))return _;const j=o(_);return j.audioWorklet.addModule(F,y).then(()=>j)}).then(j=>{if(l===null)throw new SyntaxError;try{new l(j,`__sac${k}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(F))});return p===void 0?u.set(g,new Map([[v,C]])):p.set(v,C),C.then(()=>{const S=c.get(g);S===void 0?c.set(g,new Set([v])):S.add(v)}).finally(()=>{const S=u.get(g);S!==void 0&&S.delete(v)}),C}},jt=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},ja=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},_m=(t,e,n,r)=>{const s=jt(t,e),i=ja(s,o=>o[0]===n&&o[1]===r);return s.size===0&&t.delete(e),i},Fi=t=>jt(gm,t),us=t=>{if(ls.has(t))throw new Error("The AudioNode is already stored.");ls.add(t),Fi(t).forEach(e=>e(!0))},ym=t=>"port"in t,Vi=t=>{if(!ls.has(t))throw new Error("The AudioNode is not stored.");ls.delete(t),Fi(t).forEach(e=>e(!1))},Pu=(t,e)=>{!ym(t)&&e.every(n=>n.size===0)&&Vi(t)},my=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>{const m=new WeakMap;return(g,v,y,f,p)=>{const{activeInputs:_,passiveInputs:C}=i(v),{outputs:S}=i(g),T=a(g),w=k=>{const N=l(v),M=l(g);if(k){const O=_m(C,g,y,f);t(_,g,O,!1),!p&&!h(g)&&n(M,N,y,f),d(v)&&us(v)}else{const O=r(_,g,y,f);e(C,f,O,!1),!p&&!h(g)&&s(M,N,y,f);const E=o(v);if(E===0)c(v)&&Pu(v,_);else{const V=m.get(v);V!==void 0&&clearTimeout(V),m.set(v,setTimeout(()=>{c(v)&&Pu(v,_)},E*1e3))}}};return u(S,[v,y,f],k=>k[0]===v&&k[1]===y&&k[2]===f,!0)?(T.add(w),c(g)?t(_,g,[y,f,w],!0):e(C,f,[g,y,w],!0),!0):!1}},gy=t=>(e,n,[r,s,i],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[s,n,i]])):t(a,[s,n,i],l=>l[0]===s&&l[1]===n,o)},vy=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},_y=t=>(e,n)=>{t(e).add(n)},yy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},wy=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c=I(I({},yy),l),h=r(u,c),d=i(u)?e():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Ze=(t,e)=>t.context===e,Sy=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},la=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},tn=()=>new DOMException("","IndexSizeError"),Fc=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?tn():r}})(t.getChannelData)},ky={numberOfChannels:1},Ty=(t,e,n,r,s,i,o,a)=>{let l=null;return class wm{constructor(c){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:m}=I(I({},ky),c);l===null&&(l=new s(1,1,44100));const g=r!==null&&e(i,i)?new r({length:h,numberOfChannels:d,sampleRate:m}):l.createBuffer(d,h,m);if(g.numberOfChannels===0)throw n();return typeof g.copyFromChannel!="function"?(o(g),Fc(g)):e(la,()=>la(g))||a(g),t.add(g),g}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===wm.prototype||t.has(c)}}},lt=-34028234663852886e22,Je=-lt,pn=t=>ls.has(t),Cy={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},xy=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=I(I({},Cy),c),m=s(h,d),g=o(h),v=g?e():null;super(u,!1,m,v),this._audioBufferSourceNodeRenderer=v,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=m,this._onended=null,this._playbackRate=n(this,g,m.playbackRate,Je,lt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){us(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),pn(this)&&Vi(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},Ny=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Ze(h,c);if(!d){const m={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,m),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.playbackRate,h.playbackRate):await r(c,u.playbackRate,h.playbackRate),await s(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},Ey=t=>"playbackRate"in t,Oy=t=>"frequency"in t&&"gain"in t,Ay=t=>"offset"in t,Ry=t=>!("frequency"in t)&&"gain"in t,My=t=>"detune"in t&&"frequency"in t,Iy=t=>"pan"in t,et=t=>jt(pm,t),zi=t=>jt(mm,t),bu=(t,e)=>{const{activeInputs:n}=et(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||bu(i,[...e,t])}));const r=Ey(t)?[t.playbackRate]:ym(t)?Array.from(t.parameters.values()):Oy(t)?[t.Q,t.detune,t.frequency,t.gain]:Ay(t)?[t.offset]:Ry(t)?[t.gain]:My(t)?[t.detune,t.frequency]:Iy(t)?[t.pan]:[];for(const s of r){const i=zi(s);i!==void 0&&i.activeInputs.forEach(([o])=>bu(o,e))}pn(t)&&Vi(t)},Sm=t=>{bu(t.destination,[])},Dy=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),Py=(t,e,n,r,s,i,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?n():g}if(h===null)throw r();if(!Dy(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:d}=c,{sampleRate:m}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/m:d==="interactive"||d===void 0?256/m:d==="playback"?1024/m:Math.max(2,Math.min(128,Math.round(d*m/128)))*128/m,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",g)};h.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Sm(this)}))}createMediaElementSource(c){return new s(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},by=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=o(h),m=s(h,c,d),g=d?e(a):null;super(u,!1,m,g),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=m}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Ly=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},Fy=(t,e,n,r,s,i,o,a)=>(l,u)=>{const c=u.listener,h=()=>{const S=new Float32Array(1),T=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),w=o(u);let k=!1,N=[0,0,-1,0,1,0],M=[0,0,0];const O=()=>{if(k)return;k=!0;const W=r(u,256,9,0);W.onaudioprocess=({inputBuffer:F})=>{const j=[i(F,S,0),i(F,S,1),i(F,S,2),i(F,S,3),i(F,S,4),i(F,S,5)];j.some((P,b)=>P!==N[b])&&(c.setOrientation(...j),N=j);const R=[i(F,S,6),i(F,S,7),i(F,S,8)];R.some((P,b)=>P!==M[b])&&(c.setPosition(...R),M=R)},T.connect(W)},E=W=>F=>{F!==N[W]&&(N[W]=F,c.setOrientation(...N))},V=W=>F=>{F!==M[W]&&(M[W]=F,c.setPosition(...M))},A=(W,F,j)=>{const R=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F});R.connect(T,0,W),R.start(),Object.defineProperty(R.offset,"defaultValue",{get(){return F}});const P=t({context:l},w,R.offset,Je,lt);return a(P,"value",b=>()=>b.call(P),b=>H=>{try{b.call(P,H)}catch(Q){if(Q.code!==9)throw Q}O(),w&&j(H)}),P.cancelAndHoldAtTime=(b=>w?()=>{throw s()}:(...H)=>{const Q=b.apply(P,H);return O(),Q})(P.cancelAndHoldAtTime),P.cancelScheduledValues=(b=>w?()=>{throw s()}:(...H)=>{const Q=b.apply(P,H);return O(),Q})(P.cancelScheduledValues),P.exponentialRampToValueAtTime=(b=>w?()=>{throw s()}:(...H)=>{const Q=b.apply(P,H);return O(),Q})(P.exponentialRampToValueAtTime),P.linearRampToValueAtTime=(b=>w?()=>{throw s()}:(...H)=>{const Q=b.apply(P,H);return O(),Q})(P.linearRampToValueAtTime),P.setTargetAtTime=(b=>w?()=>{throw s()}:(...H)=>{const Q=b.apply(P,H);return O(),Q})(P.setTargetAtTime),P.setValueAtTime=(b=>w?()=>{throw s()}:(...H)=>{const Q=b.apply(P,H);return O(),Q})(P.setValueAtTime),P.setValueCurveAtTime=(b=>w?()=>{throw s()}:(...H)=>{const Q=b.apply(P,H);return O(),Q})(P.setValueCurveAtTime),P};return{forwardX:A(0,0,E(0)),forwardY:A(1,0,E(1)),forwardZ:A(2,-1,E(2)),positionX:A(6,0,V(0)),positionY:A(7,0,V(1)),positionZ:A(8,0,V(2)),upX:A(3,0,E(3)),upY:A(4,1,E(4)),upZ:A(5,0,E(5))}},{forwardX:d,forwardY:m,forwardZ:g,positionX:v,positionY:y,positionZ:f,upX:p,upY:_,upZ:C}=c.forwardX===void 0?h():c;return{get forwardX(){return d},get forwardY(){return m},get forwardZ(){return g},get positionX(){return v},get positionY(){return y},get positionZ(){return f},get upX(){return p},get upY(){return _},get upZ(){return C}}},ua=t=>"context"in t,Bi=t=>ua(t[0]),Tr=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Dd=(t,e,[n,r],s)=>{Tr(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},Pd=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):Tr(i,[n,r],o=>o[0]===n,s)},vs=t=>"inputs"in t,ca=(t,e,n,r)=>{if(vs(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},km=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},Vy=(t,e,n)=>ja(t,r=>r[0]===e&&r[1]===n),Tm=(t,e)=>{if(!Fi(t).delete(e))throw new Error("Missing the expected event listener.")},Cm=(t,e,n)=>{const r=jt(t,e),s=ja(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},ha=(t,e,n,r)=>{vs(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},pe=t=>jt(bc,t),vi=t=>jt(Lc,t),gr=t=>Mu.has(t),Io=t=>!ls.has(t),bd=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),Ol=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},da=t=>"context"in t,zy=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=da(r)?n(r,s,i):n(r,s),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:s}]):a.every(l=>l.input!==i||l.output!==s)&&a.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(s===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==s&&(l.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{da(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},By=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=zi(e),{outputs:o}=et(t),a=Fi(t),l=u=>{const c=pe(t),h=vi(e);if(u){const d=Cm(i,t,n);Dd(s,t,d,!1),!r&&!gr(t)&&c.connect(h,n)}else{const d=Vy(s,t,n);Pd(i,d,!1),!r&&!gr(t)&&c.disconnect(h,n)}};return Tr(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),pn(t)?Dd(s,t,[n,l],!0):Pd(i,[t,n,l],!0),!0):!1},Wy=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=et(e),o=km(s[r],t,n);return o===null?[_m(i,t,n,r)[2],!1]:[o[2],!0]},jy=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=zi(e),i=km(r,t,n);return i===null?[Cm(s,t,n)[1],!1]:[i[2],!0]},Vc=(t,e,n,r,s)=>{const[i,o]=Wy(t,n,r,s);if(i!==null&&(Tm(t,i),o&&!e&&!gr(t)&&ha(pe(t),pe(n),r,s)),pn(n)){const{activeInputs:a}=et(n);Pu(n,a)}},zc=(t,e,n,r)=>{const[s,i]=jy(t,n,r);s!==null&&(Tm(t,s),i&&!e&&!gr(t)&&pe(t).disconnect(vi(n),r))},Hy=(t,e)=>{const n=et(t),r=[];for(const s of n.outputs)Bi(s)?Vc(t,e,...s):zc(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},Uy=(t,e,n)=>{const r=et(t),s=[];for(const i of r.outputs)i[1]===n&&(Bi(i)?Vc(t,e,...i):zc(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},qy=(t,e,n,r,s)=>{const i=et(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(s===void 0||o[2]===s)).map(o=>(Bi(o)?Vc(t,e,...o):zc(t,e,...o),i.outputs.delete(o),o[0]))},$y=(t,e,n,r,s,i,o,a,l,u,c,h,d,m,g,v)=>class extends u{constructor(f,p,_,C){super(_),this._context=f,this._nativeAudioNode=_;const S=c(f);h(S)&&n(bd,()=>bd(S,v))!==!0&&zy(_),bc.set(this,_),gm.set(this,new Set),f.state!=="closed"&&p&&us(this),t(this,C,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(f){this._nativeAudioNode.channelCount=f}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(f){this._nativeAudioNode.channelCountMode=f}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(f){this._nativeAudioNode.channelInterpretation=f}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(f,p=0,_=0){if(p<0||p>=this._nativeAudioNode.numberOfOutputs)throw s();const C=c(this._context),S=g(C);if(d(f)||m(f))throw i();if(ua(f)){const k=pe(f);try{const M=ca(this._nativeAudioNode,k,p,_),O=Io(this);(S||O)&&this._nativeAudioNode.disconnect(...M),this.context.state!=="closed"&&!O&&Io(f)&&us(f)}catch(M){throw M.code===12?i():M}if(e(this,f,p,_,S)){const M=l([this],f);Ol(M,r(S))}return f}const T=vi(f);if(T.name==="playbackRate"&&T.maxValue===1024)throw o();try{this._nativeAudioNode.connect(T,p),(S||Io(this))&&this._nativeAudioNode.disconnect(T,p)}catch(k){throw k.code===12?i():k}if(By(this,f,p,S)){const k=l([this],f);Ol(k,r(S))}}disconnect(f,p,_){let C;const S=c(this._context),T=g(S);if(f===void 0)C=Hy(this,T);else if(typeof f=="number"){if(f<0||f>=this.numberOfOutputs)throw s();C=Uy(this,T,f)}else{if(p!==void 0&&(p<0||p>=this.numberOfOutputs)||ua(f)&&_!==void 0&&(_<0||_>=f.numberOfInputs))throw s();if(C=qy(this,T,f,p,_),C.length===0)throw i()}for(const w of C){const k=l([this],w);Ol(k,a)}}},Gy=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>(m,g,v,y=null,f=null)=>{const p=new ry(v.defaultValue),_=g?r(p):null,C={get defaultValue(){return v.defaultValue},get maxValue(){return y===null?v.maxValue:y},get minValue(){return f===null?v.minValue:f},get value(){return v.value},set value(S){v.value=S,C.setValueAtTime(S,m.context.currentTime)},cancelAndHoldAtTime(S){if(typeof v.cancelAndHoldAtTime=="function")_===null&&p.flush(m.context.currentTime),p.add(s(S)),v.cancelAndHoldAtTime(S);else{const T=Array.from(p).pop();_===null&&p.flush(m.context.currentTime),p.add(s(S));const w=Array.from(p).pop();v.cancelScheduledValues(S),T!==w&&w!==void 0&&(w.type==="exponentialRampToValue"?v.exponentialRampToValueAtTime(w.value,w.endTime):w.type==="linearRampToValue"?v.linearRampToValueAtTime(w.value,w.endTime):w.type==="setValue"?v.setValueAtTime(w.value,w.startTime):w.type==="setValueCurve"&&v.setValueCurveAtTime(w.values,w.startTime,w.duration))}return C},cancelScheduledValues(S){return _===null&&p.flush(m.context.currentTime),p.add(i(S)),v.cancelScheduledValues(S),C},exponentialRampToValueAtTime(S,T){if(S===0)throw new RangeError;if(!Number.isFinite(T)||T<0)throw new RangeError;return _===null&&p.flush(m.context.currentTime),p.add(o(S,T)),v.exponentialRampToValueAtTime(S,T),C},linearRampToValueAtTime(S,T){return _===null&&p.flush(m.context.currentTime),p.add(a(S,T)),v.linearRampToValueAtTime(S,T),C},setTargetAtTime(S,T,w){return _===null&&p.flush(m.context.currentTime),p.add(l(S,T,w)),v.setTargetAtTime(S,T,w),C},setValueAtTime(S,T){return _===null&&p.flush(m.context.currentTime),p.add(u(S,T)),v.setValueAtTime(S,T),C},setValueCurveAtTime(S,T,w){const k=S instanceof Float32Array?S:new Float32Array(S);if(h!==null&&h.name==="webkitAudioContext"){const N=T+w,M=m.context.sampleRate,O=Math.ceil(T*M),E=Math.floor(N*M),V=E-O,A=new Float32Array(V);for(let F=0;F<V;F+=1){const j=(k.length-1)/w*((O+F)/M-T),R=Math.floor(j),P=Math.ceil(j);A[F]=R===P?k[R]:(1-(j-R))*k[R]+(1-(P-j))*k[P]}_===null&&p.flush(m.context.currentTime),p.add(c(A,T,w)),v.setValueCurveAtTime(A,T,w);const W=E/M;W<N&&d(C,A[A.length-1],W),d(C,k[k.length-1],N)}else _===null&&p.flush(m.context.currentTime),p.add(c(k,T,w)),v.setValueCurveAtTime(k,T,w);return C}};return n.set(C,v),e.set(C,m),t(C,_),C},Qy=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class xm{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Xy={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Yy=(t,e,n,r,s,i,o,a,l,u,c,h,d,m)=>class extends e{constructor(v,y,f){var p;const _=a(v),C=l(_),S=c(I(I({},Xy),f));d(S);const T=Iu.get(_),w=T==null?void 0:T.get(y),k=C||_.state!=="closed"?_:(p=o(_))!==null&&p!==void 0?p:_,N=s(k,C?null:v.baseLatency,u,y,w,S),M=C?r(y,S,w):null;super(v,!0,N,M);const O=[];N.parameters.forEach((V,A)=>{const W=n(this,C,V);O.push([A,W])}),this._nativeAudioWorkletNode=N,this._onprocessorerror=null,this._parameters=new xm(O),C&&t(_,this);const{activeInputs:E}=i(this);h(N,E)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(v){const y=typeof v=="function"?m(this,v):null;this._nativeAudioWorkletNode.onprocessorerror=y;const f=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=f!==null&&f===y?v:f}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function fa(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const Nm=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},pa=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},Zy=(t,e)=>{const n=jt(Du,t),r=pe(e);return jt(n,r)},Ky=async(t,e,n,r,s,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,u=s.reduce((y,f)=>y+f,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=et(t),d=await Zy(n,t),m=pa(r.numberOfInputs,r.channelCount),g=pa(r.numberOfOutputs,s),v=Array.from(t.parameters.keys()).reduce((y,f)=>U(I({},y),{[f]:new Float32Array(128)}),{});for(let y=0;y<a;y+=128){if(r.numberOfInputs>0&&e!==null)for(let f=0;f<r.numberOfInputs;f+=1)for(let p=0;p<r.channelCount;p+=1)fa(e,m[f],p,p,y);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:f},p)=>{fa(e,v,f,l+p,y)});for(let f=0;f<r.numberOfInputs;f+=1)for(let p=0;p<s[f];p+=1)g[f][p].byteLength===0&&(g[f][p]=new Float32Array(128));try{const f=m.map((_,C)=>h.activeInputs[C].size===0?[]:_),p=o(y/n.sampleRate,n.sampleRate,()=>d.process(f,g,v));if(c!==null)for(let _=0,C=0;_<r.numberOfOutputs;_+=1){for(let S=0;S<s[_];S+=1)Nm(c,g[_],S,C+S,y);C+=s[_]}if(!p)break}catch(f){t.dispatchEvent(new ErrorEvent("processorerror",{colno:f.colno,filename:f.filename,lineno:f.lineno,message:f.message}));break}}return c},Jy=(t,e,n,r,s,i,o,a,l,u,c,h,d,m,g,v)=>(y,f,p)=>{const _=new WeakMap;let C=null;const S=async(T,w)=>{let k=c(T),N=null;const M=Ze(k,w),O=Array.isArray(f.outputChannelCount)?f.outputChannelCount:Array.from(f.outputChannelCount);if(h===null){const E=O.reduce((F,j)=>F+j,0),V=s(w,{channelCount:Math.max(1,E),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,E)}),A=[];for(let F=0;F<T.numberOfOutputs;F+=1)A.push(r(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:O[F]}));const W=o(w,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});W.connect=e.bind(null,A),W.disconnect=l.bind(null,A),N=[V,A,W]}else M||(k=new h(w,y));if(_.set(w,N===null?k:N[2]),N!==null){if(C===null){if(p===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=T.channelCount*T.numberOfInputs,R=p.parameterDescriptors===void 0?0:p.parameterDescriptors.length,P=j+R;C=Ky(T,P===0?null:await(async()=>{const H=new d(P,Math.ceil(T.context.length/128)*128,w.sampleRate),Q=[],ae=[];for(let K=0;K<f.numberOfInputs;K+=1)Q.push(o(H,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1})),ae.push(s(H,{channelCount:f.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:f.channelCount}));const Ne=await Promise.all(Array.from(T.parameters.values()).map(async K=>{const $=i(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:K.value});return await m(H,K,$.offset),$})),We=r(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,j+R)});for(let K=0;K<f.numberOfInputs;K+=1){Q[K].connect(ae[K]);for(let $=0;$<f.channelCount;$+=1)ae[K].connect(We,$,K*f.channelCount+$)}for(const[K,$]of Ne.entries())$.connect(We,0,j+K),$.start(0);return We.connect(H.destination),await Promise.all(Q.map(K=>g(T,H,K))),v(H)})(),w,f,O,p,u)}const E=await C,V=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[A,W,F]=N;E!==null&&(V.buffer=E,V.start(0)),V.connect(A);for(let j=0,R=0;j<T.numberOfOutputs;j+=1){const P=W[j];for(let b=0;b<O[j];b+=1)A.connect(P,R+b,b);R+=O[j]}return F}if(M)for(const[E,V]of T.parameters.entries())await t(w,V,k.parameters.get(E));else for(const[E,V]of T.parameters.entries())await m(w,V,k.parameters.get(E));return await g(T,w,k),k};return{render(T,w){a(w,T);const k=_.get(w);return k!==void 0?Promise.resolve(k):S(T,w)}}},e0=(t,e,n,r,s,i,o,a,l,u,c,h,d,m,g,v,y,f,p,_)=>class extends g{constructor(S,T){super(S,T),this._nativeContext=S,this._audioWorklet=t===void 0?void 0:{addModule:(w,k)=>t(this,w,k)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(S,T,w){return new n({length:T,numberOfChannels:S,sampleRate:w})}createBufferSource(){return new r(this)}createChannelMerger(S=6){return new i(this,{numberOfInputs:S})}createChannelSplitter(S=6){return new o(this,{numberOfOutputs:S})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(S=1){return new c(this,{maxDelayTime:S})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(S,T){return new m(this,{feedback:T,feedforward:S})}createOscillator(){return new v(this)}createPanner(){return new y(this)}createPeriodicWave(S,T,w={disableNormalization:!1}){return new f(this,U(I({},w),{imag:T,real:S}))}createStereoPanner(){return new p(this)}createWaveShaper(){return new _(this)}decodeAudioData(S,T,w){return u(this._nativeContext,S).then(k=>(typeof T=="function"&&T(k),k),k=>{throw typeof w=="function"&&w(k),k})}},t0={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},n0=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=I(I({},t0),c),m=s(h,d),g=o(h),v=g?n():null;super(u,!1,m,v),this._Q=e(this,g,m.Q,Je,lt),this._detune=e(this,g,m.detune,1200*Math.log2(Je),-1200*Math.log2(Je)),this._frequency=e(this,g,m.frequency,u.sampleRate/2,0),this._gain=e(this,g,m.gain,40*Math.log10(Je),lt),this._nativeBiquadFilterNode=m,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(d){throw d.code===11?r():d}if(u.length!==c.length||c.length!==h.length)throw r()}},r0=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,h)}return i.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await r(l,a.Q,u.Q),await r(l,a.detune,u.detune),await r(l,a.frequency,u.frequency),await r(l,a.gain,u.gain)),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},s0=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},i0={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},o0=(t,e,n,r,s)=>class extends t{constructor(o,a){const l=r(o),u=I(I({},i0),a),c=n(l,u),h=s(l)?e():null;super(o,!1,c,h)}},a0=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},l0={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},u0=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=i(I(I({},l0),l)),h=n(u,c),d=s(u)?e():null;super(a,!1,h,d)}},c0=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},h0=t=>(e,n,r)=>t(n,e,r),d0=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return da(n)?i.connect(n,0,s):i.connect(n,0)},f0=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},p0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},m0=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h=I(I({},p0),u),d=r(c,h),m=i(c),g=m?n():null;super(l,!1,d,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=d,this._offset=e(this,m,d.offset,Je,lt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){us(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),pn(this)&&Vi(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},g0=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Ze(h,c);if(!d){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,m),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.offset,h.offset):await r(c,u.offset,h.offset),await s(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},v0=t=>e=>(t[0]=e,t[0]),_0={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},y0=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=I(I({},_0),l),h=n(u,c),m=s(u)?e():null;super(a,!1,h,m),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,44100),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},w0=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return r.set(o,a),vs(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},S0=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},k0=()=>new DOMException("","DataCloneError"),Ld=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}finally{s()}})},T0=(t,e,n,r,s,i,o,a,l,u,c)=>(h,d)=>{const m=o(h)?h:i(h);if(s.has(d)){const g=n();return Promise.reject(g)}try{s.add(d)}catch{}return e(l,()=>l(m))?m.decodeAudioData(d).then(g=>(Ld(d).catch(()=>{}),e(a,()=>a(g))||c(g),t.add(g),g)):new Promise((g,v)=>{const y=async()=>{try{await Ld(d)}catch{}},f=p=>{v(p),y()};try{m.decodeAudioData(d,p=>{typeof p.copyFromChannel!="function"&&(u(p),Fc(p)),t.add(p),y().then(()=>g(p))},p=>{f(p===null?r():p)})}catch(p){f(p)}})},C0=(t,e,n,r,s,i,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const m=r(l),{outputs:g}=n(l);for(const v of g)if(Bi(v)){const y=r(v[0]);t(m,y,v[1],v[2])}else{const y=s(v[0]);m.connect(y,v[1])}}}else e.set(l,c-u)},x0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},N0=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h=I(I({},x0),u),d=r(c,h),m=i(c),g=m?n(h.maxDelayTime):null;super(l,!1,d,g),this._delayTime=e(this,m,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},E0=(t,e,n,r,s)=>i=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const h=Ze(c,u);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:i};c=e(u,d)}return o.set(u,c),h?await t(u,l.delayTime,c.delayTime):await r(u,l.delayTime,c.delayTime),await s(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},O0=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),A0=t=>(e,n)=>{t(e).delete(n)},R0=t=>"delayTime"in t,M0=(t,e,n)=>function r(s,i){const o=ua(i)?i:n(t,i);if(R0(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...s,o],l[0])).reduce((l,u)=>l.concat(u),[])},mo=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},I0=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?mo(t,e,n).disconnect():da(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?mo(t,e,r).disconnect(n,0):mo(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):mo(t,e,r).disconnect(n,0),D0={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},P0=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=I(I({},D0),c),m=r(h,d),g=o(h),v=g?n():null;super(u,!1,m,v),this._attack=e(this,g,m.attack),this._knee=e(this,g,m.knee),this._nativeDynamicsCompressorNode=m,this._ratio=e(this,g,m.ratio),this._release=e(this,g,m.release),this._threshold=e(this,g,m.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},b0=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,h)}return i.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await r(l,a.attack,u.attack),await r(l,a.knee,u.knee),await r(l,a.ratio,u.ratio),await r(l,a.release,u.release),await r(l,a.threshold,u.threshold)),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},L0=()=>new DOMException("","EncodingError"),F0=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,h,d,m,g)=>{if(h===a||h===t.location.href&&d===1&&m===1)return u(),r(g),!1;if(l!==null)return l(c,h,d,m,g)},i.onerror=()=>{u(),r(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",s.appendChild(i)}}),V0=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},z0=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},B0=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},W0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},j0=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c=I(I({},W0),l),h=r(u,c),d=i(u),m=d?n():null;super(a,!1,h,m),this._gain=e(this,d,h.gain,Je,lt)}get gain(){return this._gain}},H0=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.gain,u.gain):await r(l,a.gain,u.gain),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},U0=(t,e)=>n=>e(t,n),q0=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},$0=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},G0=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Q0=t=>e=>t.get(e),Be=()=>new DOMException("","InvalidStateError"),X0=t=>e=>{const n=t.get(e);if(n===void 0)throw Be();return n},Y0=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},Z0=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Ha=()=>new DOMException("","InvalidAccessError"),K0=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw Ha();return e.call(t,n,r,s)})(t.getFrequencyResponse)},J0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},e1=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=s(u),h=I(I({},J0),l),d=e(u,c?null:a.baseLatency,h),m=c?n(h.feedback,h.feedforward):null;super(a,!1,d,m),K0(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},Em=(t,e,n,r,s,i,o,a,l,u,c)=>{const h=u.length;let d=a;for(let m=0;m<h;m+=1){let g=n[0]*u[m];for(let v=1;v<s;v+=1){const y=d-v&l-1;g+=n[v]*i[y],g-=t[v]*o[y]}for(let v=s;v<r;v+=1)g+=n[v]*i[d-v&l-1];for(let v=s;v<e;v+=1)g-=t[v]*o[d-v&l-1];i[d]=u[m],o[d]=g,d=d+1&l-1,c[m]=g}return d},t1=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,a=i.length,l=Math.min(o,a);if(s[0]!==1){for(let g=0;g<o;g+=1)i[g]/=s[0];for(let g=1;g<a;g+=1)s[g]/=s[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),m=t.numberOfChannels;for(let g=0;g<m;g+=1){const v=t.getChannelData(g),y=d.getChannelData(g);c.fill(0),h.fill(0),Em(s,o,i,a,l,c,h,0,u,v,y)}return d},n1=(t,e,n,r,s)=>(i,o)=>{const a=new WeakMap;let l=null;const u=async(c,h)=>{let d=null,m=e(c);const g=Ze(m,h);if(h.createIIRFilter===void 0?d=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(m=h.createIIRFilter(o,i)),a.set(h,d===null?m:d),d!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const y=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);l=(async()=>{await r(c,y,y.destination);const f=await s(y);return t1(f,h,i,o)})()}const v=await l;return d.buffer=v,d.start(0),d}return await r(c,h,m),m};return{render(c,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},r1=(t,e,n,r,s,i)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&i(a)){const c=r(a),{outputs:h}=n(a);for(const d of h)if(Bi(d)){const m=r(d[0]);e(c,m,d[1],d[2])}else{const m=s(d[0]);c.disconnect(m,d[1])}}t.set(a,l)}else t.set(a,u+l)},s1=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},i1=(t,e)=>n=>t.has(n)||e(n),o1=(t,e)=>n=>t.has(n)||e(n),a1=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},l1=t=>e=>t!==null&&e instanceof t,u1=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,c1=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,h1=(t,e)=>n=>t(n)||e(n),d1=t=>e=>t!==null&&e instanceof t,f1=t=>t!==null&&t.isSecureContext,p1=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},m1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},g1=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i);if(r(a))throw new TypeError;const l=I(I({},m1),o),u=e(a,l);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},v1=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},_1=(t,e,n)=>class extends t{constructor(s,i){const o=n(s),a=e(o,i);super(s,!0,a,null)}},y1=(t,e,n,r,s,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,Wa.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},_i=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},w1=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=i.size===0;if(e(a))return o.call(n,a,l,u),t(i,[a,l,u],h=>h[0]===a&&h[1]===l&&h[2]===u,!0),c&&r(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),c&&r()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const d of i)d[0]===a&&(l===void 0||d[1]===l)&&(u===void 0||d[2]===u)&&i.delete(d)}const h=i.size===0;c&&h&&s()})(n.disconnect),n},ge=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Fe=(t,e)=>{ge(t,e,"channelCount"),ge(t,e,"channelCountMode"),ge(t,e,"channelInterpretation")},Fd=t=>typeof t.getFloatTimeDomainData=="function",S1=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},k1=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(Fe(s,r),!(r.maxDecibels>r.minDecibels))throw e();return ge(s,r,"fftSize"),ge(s,r,"maxDecibels"),ge(s,r,"minDecibels"),ge(s,r,"smoothingTimeConstant"),t(Fd,()=>Fd(s))||S1(s),s},T1=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Ce=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},C1=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw Be();e.call(t,r,s,i),n=!0}})(t.start)},Bc=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},Wc=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},x1=(t,e,n,r,s,i,o,a,l,u,c)=>(h,d)=>{const m=h.createBufferSource();return Fe(m,d),Ce(m,d,"playbackRate"),ge(m,d,"buffer"),ge(m,d,"loop"),ge(m,d,"loopEnd"),ge(m,d,"loopStart"),e(n,()=>n(h))||C1(m),e(r,()=>r(h))||l(m),e(s,()=>s(h))||u(m,h),e(i,()=>i(h))||Bc(m),e(o,()=>o(h))||c(m,h),e(a,()=>a(h))||Wc(m),t(h,m),m},N1=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,E1=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(u){if(l>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},O1=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,A1=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},R1=(t,e,n,r,s)=>(i,o,a,l,u,c)=>{if(a!==null)try{const h=new a(i,l,c),d=new Map;let m=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>m,set:g=>{typeof m=="function"&&h.removeEventListener("processorerror",m),m=typeof g=="function"?g:null,typeof m=="function"&&h.addEventListener("processorerror",m)}}}),h.addEventListener=(g=>(...v)=>{if(v[0]==="processorerror"){const y=typeof v[1]=="function"?v[1]:typeof v[1]=="object"&&v[1]!==null&&typeof v[1].handleEvent=="function"?v[1].handleEvent:null;if(y!==null){const f=d.get(v[1]);f!==void 0?v[1]=f:(v[1]=p=>{p.type==="error"?(Object.defineProperties(p,{type:{value:"processorerror"}}),y(p)):y(new ErrorEvent(v[0],I({},p)))},d.set(y,v[1]))}}return g.call(h,"error",v[1],v[2]),g.call(h,...v)})(h.addEventListener),h.removeEventListener=(g=>(...v)=>{if(v[0]==="processorerror"){const y=d.get(v[1]);y!==void 0&&(d.delete(v[1]),v[1]=y)}return g.call(h,"error",v[1],v[2]),g.call(h,v[0],v[1],v[2])})(h.removeEventListener),c.numberOfOutputs!==0){const g=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(g).connect(i.destination),s(h,()=>g.disconnect(),()=>g.connect(i.destination))}return h}catch(h){throw h.code===11?r():h}if(u===void 0)throw r();return A1(c),e(i,o,u,c)},Om=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),M1=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),I1=async(t,e)=>{const n=await M1(e);return new t(n)},D1=(t,e,n,r)=>{let s=Du.get(t);s===void 0&&(s=new WeakMap,Du.set(t,s));const i=I1(n,r);return s.set(e,i),i},P1=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>(m,g,v,y)=>{if(y.numberOfInputs===0&&y.numberOfOutputs===0)throw l();const f=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(f.some(z=>z<1))throw l();if(f.length!==y.numberOfOutputs)throw e();if(y.channelCountMode!=="explicit")throw l();const p=y.channelCount*y.numberOfInputs,_=f.reduce((z,G)=>z+G,0),C=v.parameterDescriptors===void 0?0:v.parameterDescriptors.length;if(p+C>6||_>6)throw l();const S=new MessageChannel,T=[],w=[];for(let z=0;z<y.numberOfInputs;z+=1)T.push(o(m,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),w.push(s(m,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const k=[];if(v.parameterDescriptors!==void 0)for(const{defaultValue:z,maxValue:G,minValue:De,name:_e}of v.parameterDescriptors){const ne=i(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:y.parameterData[_e]!==void 0?y.parameterData[_e]:z===void 0?0:z});Object.defineProperties(ne.offset,{defaultValue:{get:()=>z===void 0?0:z},maxValue:{get:()=>G===void 0?Je:G},minValue:{get:()=>De===void 0?lt:De}}),k.push(ne)}const N=r(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,p+C)}),M=Om(g,m.sampleRate),O=a(m,M,p+C,Math.max(1,_)),E=s(m,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),V=[];for(let z=0;z<y.numberOfOutputs;z+=1)V.push(r(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:f[z]}));for(let z=0;z<y.numberOfInputs;z+=1){T[z].connect(w[z]);for(let G=0;G<y.channelCount;G+=1)w[z].connect(N,G,z*y.channelCount+G)}const A=new xm(v.parameterDescriptors===void 0?[]:v.parameterDescriptors.map(({name:z},G)=>{const De=k[G];return De.connect(N,0,p+G),De.start(0),[z,De.offset]}));N.connect(O);let W=y.channelInterpretation,F=null;const j=y.numberOfOutputs===0?[O]:V,R={get bufferSize(){return M},get channelCount(){return y.channelCount},set channelCount(z){throw n()},get channelCountMode(){return y.channelCountMode},set channelCountMode(z){throw n()},get channelInterpretation(){return W},set channelInterpretation(z){for(const G of T)G.channelInterpretation=z;W=z},get context(){return O.context},get inputs(){return T},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},get onprocessorerror(){return F},set onprocessorerror(z){typeof F=="function"&&R.removeEventListener("processorerror",F),F=typeof z=="function"?z:null,typeof F=="function"&&R.addEventListener("processorerror",F)},get parameters(){return A},get port(){return S.port2},addEventListener(...z){return O.addEventListener(z[0],z[1],z[2])},connect:t.bind(null,j),disconnect:u.bind(null,j),dispatchEvent(...z){return O.dispatchEvent(z[0])},removeEventListener(...z){return O.removeEventListener(z[0],z[1],z[2])}},P=new Map;S.port1.addEventListener=(z=>(...G)=>{if(G[0]==="message"){const De=typeof G[1]=="function"?G[1]:typeof G[1]=="object"&&G[1]!==null&&typeof G[1].handleEvent=="function"?G[1].handleEvent:null;if(De!==null){const _e=P.get(G[1]);_e!==void 0?G[1]=_e:(G[1]=ne=>{c(m.currentTime,m.sampleRate,()=>De(ne))},P.set(De,G[1]))}}return z.call(S.port1,G[0],G[1],G[2])})(S.port1.addEventListener),S.port1.removeEventListener=(z=>(...G)=>{if(G[0]==="message"){const De=P.get(G[1]);De!==void 0&&(P.delete(G[1]),G[1]=De)}return z.call(S.port1,G[0],G[1],G[2])})(S.port1.removeEventListener);let b=null;Object.defineProperty(S.port1,"onmessage",{get:()=>b,set:z=>{typeof b=="function"&&S.port1.removeEventListener("message",b),b=typeof z=="function"?z:null,typeof b=="function"&&(S.port1.addEventListener("message",b),S.port1.start())}}),v.prototype.port=S.port1;let H=null;D1(m,R,v,y).then(z=>H=z);const ae=pa(y.numberOfInputs,y.channelCount),Ne=pa(y.numberOfOutputs,f),We=v.parameterDescriptors===void 0?[]:v.parameterDescriptors.reduce((z,{name:G})=>U(I({},z),{[G]:new Float32Array(128)}),{});let K=!0;const $=()=>{y.numberOfOutputs>0&&O.disconnect(E);for(let z=0,G=0;z<y.numberOfOutputs;z+=1){const De=V[z];for(let _e=0;_e<f[z];_e+=1)E.disconnect(De,G+_e,_e);G+=f[z]}},Nr=new Map;O.onaudioprocess=({inputBuffer:z,outputBuffer:G})=>{if(H!==null){const De=h(R);for(let _e=0;_e<M;_e+=128){for(let ne=0;ne<y.numberOfInputs;ne+=1)for(let ke=0;ke<y.channelCount;ke+=1)fa(z,ae[ne],ke,ke,_e);v.parameterDescriptors!==void 0&&v.parameterDescriptors.forEach(({name:ne},ke)=>{fa(z,We,ne,p+ke,_e)});for(let ne=0;ne<y.numberOfInputs;ne+=1)for(let ke=0;ke<f[ne];ke+=1)Ne[ne][ke].byteLength===0&&(Ne[ne][ke]=new Float32Array(128));try{const ne=ae.map((Tt,Cn)=>{if(De[Cn].size>0)return Nr.set(Cn,M/128),Tt;const nl=Nr.get(Cn);return nl===void 0?[]:(Tt.every(Ig=>Ig.every(Dg=>Dg===0))&&(nl===1?Nr.delete(Cn):Nr.set(Cn,nl-1)),Tt)});K=c(m.currentTime+_e/m.sampleRate,m.sampleRate,()=>H.process(ne,Ne,We));for(let Tt=0,Cn=0;Tt<y.numberOfOutputs;Tt+=1){for(let Ns=0;Ns<f[Tt];Ns+=1)Nm(G,Ne[Tt],Ns,Cn+Ns,_e);Cn+=f[Tt]}}catch(ne){K=!1,R.dispatchEvent(new ErrorEvent("processorerror",{colno:ne.colno,filename:ne.filename,lineno:ne.lineno,message:ne.message}))}if(!K){for(let ne=0;ne<y.numberOfInputs;ne+=1){T[ne].disconnect(w[ne]);for(let ke=0;ke<y.channelCount;ke+=1)w[_e].disconnect(N,ke,ne*y.channelCount+ke)}if(v.parameterDescriptors!==void 0){const ne=v.parameterDescriptors.length;for(let ke=0;ke<ne;ke+=1){const Tt=k[ke];Tt.disconnect(N,0,p+ke),Tt.stop()}}N.disconnect(O),O.onaudioprocess=null,Ts?$():Or();break}}}};let Ts=!1;const q=o(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Er=()=>O.connect(q).connect(m.destination),Or=()=>{O.disconnect(q),q.disconnect()},Cs=()=>{if(K){Or(),y.numberOfOutputs>0&&O.connect(E);for(let z=0,G=0;z<y.numberOfOutputs;z+=1){const De=V[z];for(let _e=0;_e<f[z];_e+=1)E.connect(De,G+_e,_e);G+=f[z]}}Ts=!0},xs=()=>{K&&(Er(),$()),Ts=!1};return Er(),d(R,Cs,xs)},Am=(t,e)=>{const n=t.createBiquadFilter();return Fe(n,e),Ce(n,e,"Q"),Ce(n,e,"detune"),Ce(n,e,"frequency"),Ce(n,e,"gain"),ge(n,e,"type"),n},b1=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),Fe(s,r),s},L1=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Be()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Be()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Be()}})},Wi=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Fe(n,e),L1(n),n},F1=(t,e,n,r,s)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return Fe(a,o),Ce(a,o,"offset"),e(r,()=>r(i))||Bc(a),e(s,()=>s(i))||Wc(a),t(i,a),a},_s=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),V1=(t,e,n,r)=>(s,a)=>{var l=a,{offset:i}=l,o=Es(l,["offset"]);const u=s.createBuffer(1,2,44100),c=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=n(s,U(I({},o),{gain:i})),d=u.getChannelData(0);d[0]=1,d[1]=1,c.buffer=u,c.loop=!0;const m={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(y){h.channelCount=y},get channelCountMode(){return h.channelCountMode},set channelCountMode(y){h.channelCountMode=y},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(y){h.channelInterpretation=y},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return c.onended},set onended(y){c.onended=y},addEventListener(...y){return c.addEventListener(y[0],y[1],y[2])},dispatchEvent(...y){return c.dispatchEvent(y[0])},removeEventListener(...y){return c.removeEventListener(y[0],y[1],y[2])},start(y=0){c.start.call(c,y)},stop(y=0){c.stop.call(c,y)}},g=()=>c.connect(h),v=()=>c.disconnect(h);return t(s,c),r(_s(m,h),g,v)},z1=(t,e)=>(n,r)=>{const s=n.createConvolver();if(Fe(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),ge(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if(o==="max")throw t();return i.call(s,o)}),s},Rm=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Fe(n,e),Ce(n,e,"delayTime"),n},B1=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Fe(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Ce(r,n,"attack"),Ce(r,n,"knee"),Ce(r,n,"ratio"),Ce(r,n,"release"),Ce(r,n,"threshold"),r},mt=(t,e)=>{const n=t.createGain();return Fe(n,e),Ce(n,e,"gain"),n},W1=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return Fe(s,r),s};function j1(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function H1(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Vd(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=H1(n,e),n[0]+=t[r];return n}const U1=(t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=Om(i,s.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),m=c instanceof Float64Array?c:new Float64Array(c),g=d.length,v=m.length,y=Math.min(g,v);if(g===0||g>20)throw r();if(d[0]===0)throw e();if(v===0||v>20)throw r();if(m[0]===0)throw e();if(d[0]!==1){for(let k=0;k<v;k+=1)m[k]/=d[0];for(let k=1;k<g;k+=1)d[k]/=d[0]}const f=n(s,h,o,o);f.channelCount=o,f.channelCountMode=a,f.channelInterpretation=l;const p=32,_=[],C=[],S=[];for(let k=0;k<o;k+=1){_.push(0);const N=new Float32Array(p),M=new Float32Array(p);N.fill(0),M.fill(0),C.push(N),S.push(M)}f.onaudioprocess=k=>{const N=k.inputBuffer,M=k.outputBuffer,O=N.numberOfChannels;for(let E=0;E<O;E+=1){const V=N.getChannelData(E),A=M.getChannelData(E);_[E]=Em(d,g,m,v,y,C[E],S[E],_[E],p,V,A)}};const T=s.sampleRate/2;return _s({get bufferSize(){return h},get channelCount(){return f.channelCount},set channelCount(k){f.channelCount=k},get channelCountMode(){return f.channelCountMode},set channelCountMode(k){f.channelCountMode=k},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(k){f.channelInterpretation=k},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener(...k){return f.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return f.dispatchEvent(k[0])},getFrequencyResponse(k,N,M){if(k.length!==N.length||N.length!==M.length)throw t();const O=k.length;for(let E=0;E<O;E+=1){const V=-Math.PI*(k[E]/T),A=[Math.cos(V),Math.sin(V)],W=Vd(m,A),F=Vd(d,A),j=j1(W,F);N[E]=Math.sqrt(j[0]*j[0]+j[1]*j[1]),M[E]=Math.atan2(j[1],j[0])}},removeEventListener(...k){return f.removeEventListener(k[0],k[1],k[2])}},f)},q1=(t,e)=>t.createMediaElementSource(e.mediaElement),$1=(t,e)=>{const n=t.createMediaStreamDestination();return Fe(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},G1=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},Q1=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},X1=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,Y1=(t,e,n,r,s,i)=>(o,a)=>{const l=o.createOscillator();return Fe(l,a),Ce(l,a,"detune"),Ce(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):ge(l,a,"type"),e(n,()=>n(o))||Bc(l),e(r,()=>r(o))||i(l,o),e(s,()=>s(o))||Wc(l),t(o,l),l},Z1=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(Fe(r,n),Ce(r,n,"orientationX"),Ce(r,n,"orientationY"),Ce(r,n,"orientationZ"),Ce(r,n,"positionX"),Ce(r,n,"positionY"),Ce(r,n,"positionZ"),ge(r,n,"coneInnerAngle"),ge(r,n,"coneOuterAngle"),ge(r,n,"coneOuterGain"),ge(r,n,"distanceModel"),ge(r,n,"maxDistance"),ge(r,n,"panningModel"),ge(r,n,"refDistance"),ge(r,n,"rolloffFactor"),r)},K1=(t,e,n,r,s,i,o,a,l,u)=>(c,M)=>{var O=M,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:m,distanceModel:g,maxDistance:v,orientationX:y,orientationY:f,orientationZ:p,panningModel:_,positionX:C,positionY:S,positionZ:T,refDistance:w,rolloffFactor:k}=O,N=Es(O,["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"]);const E=c.createPanner();if(N.channelCount>2||N.channelCountMode==="max")throw o();Fe(E,N);const V={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(c,U(I({},V),{channelInterpretation:"speakers",numberOfInputs:6})),W=r(c,U(I({},N),{gain:1})),F=r(c,U(I({},V),{gain:1})),j=r(c,U(I({},V),{gain:0})),R=r(c,U(I({},V),{gain:0})),P=r(c,U(I({},V),{gain:0})),b=r(c,U(I({},V),{gain:0})),H=r(c,U(I({},V),{gain:0})),Q=s(c,256,6,1),ae=i(c,U(I({},V),{curve:new Float32Array([1,1]),oversample:"none"}));let Ne=[y,f,p],We=[C,S,T];const K=new Float32Array(1);Q.onaudioprocess=({inputBuffer:q})=>{const Er=[l(q,K,0),l(q,K,1),l(q,K,2)];Er.some((Cs,xs)=>Cs!==Ne[xs])&&(E.setOrientation(...Er),Ne=Er);const Or=[l(q,K,3),l(q,K,4),l(q,K,5)];Or.some((Cs,xs)=>Cs!==We[xs])&&(E.setPosition(...Or),We=Or)},Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(b.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0});const $={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(q){if(q>2)throw o();W.channelCount=q,E.channelCount=q},get channelCountMode(){return E.channelCountMode},set channelCountMode(q){if(q==="max")throw o();W.channelCountMode=q,E.channelCountMode=q},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(q){W.channelInterpretation=q,E.channelInterpretation=q},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(q){E.coneInnerAngle=q},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(q){E.coneOuterAngle=q},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(q){if(q<0||q>1)throw e();E.coneOuterGain=q},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(q){E.distanceModel=q},get inputs(){return[W]},get maxDistance(){return E.maxDistance},set maxDistance(q){if(q<0)throw new RangeError;E.maxDistance=q},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return F.gain},get orientationY(){return j.gain},get orientationZ(){return R.gain},get panningModel(){return E.panningModel},set panningModel(q){E.panningModel=q},get positionX(){return P.gain},get positionY(){return b.gain},get positionZ(){return H.gain},get refDistance(){return E.refDistance},set refDistance(q){if(q<0)throw new RangeError;E.refDistance=q},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(q){if(q<0)throw new RangeError;E.rolloffFactor=q},addEventListener(...q){return W.addEventListener(q[0],q[1],q[2])},dispatchEvent(...q){return W.dispatchEvent(q[0])},removeEventListener(...q){return W.removeEventListener(q[0],q[1],q[2])}};h!==$.coneInnerAngle&&($.coneInnerAngle=h),d!==$.coneOuterAngle&&($.coneOuterAngle=d),m!==$.coneOuterGain&&($.coneOuterGain=m),g!==$.distanceModel&&($.distanceModel=g),v!==$.maxDistance&&($.maxDistance=v),y!==$.orientationX.value&&($.orientationX.value=y),f!==$.orientationY.value&&($.orientationY.value=f),p!==$.orientationZ.value&&($.orientationZ.value=p),_!==$.panningModel&&($.panningModel=_),C!==$.positionX.value&&($.positionX.value=C),S!==$.positionY.value&&($.positionY.value=S),T!==$.positionZ.value&&($.positionZ.value=T),w!==$.refDistance&&($.refDistance=w),k!==$.rolloffFactor&&($.rolloffFactor=k),(Ne[0]!==1||Ne[1]!==0||Ne[2]!==0)&&E.setOrientation(...Ne),(We[0]!==0||We[1]!==0||We[2]!==0)&&E.setPosition(...We);const Nr=()=>{W.connect(E),t(W,ae,0,0),ae.connect(F).connect(A,0,0),ae.connect(j).connect(A,0,1),ae.connect(R).connect(A,0,2),ae.connect(P).connect(A,0,3),ae.connect(b).connect(A,0,4),ae.connect(H).connect(A,0,5),A.connect(Q).connect(c.destination)},Ts=()=>{W.disconnect(E),a(W,ae,0,0),ae.disconnect(F),F.disconnect(A),ae.disconnect(j),j.disconnect(A),ae.disconnect(R),R.disconnect(A),ae.disconnect(P),P.disconnect(A),ae.disconnect(b),b.disconnect(A),ae.disconnect(H),H.disconnect(A),A.disconnect(Q),Q.disconnect(c.destination)};return u(_s($,E),Nr,Ts)},J1=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},ji=(t,e,n,r)=>t.createScriptProcessor(e,n,r),ew=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return Fe(i,r),Ce(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i},tw=(t,e,n,r,s,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c=U(I({},u),{oversample:"none"}),h=(g,v,y,f)=>{const p=new Float32Array(16385),_=new Float32Array(16385);for(let N=0;N<16385;N+=1){const M=N/16384*l;p[N]=Math.cos(M),_[N]=Math.sin(M)}const C=n(g,U(I({},u),{gain:0})),S=r(g,U(I({},c),{curve:p})),T=r(g,U(I({},c),{curve:a})),w=n(g,U(I({},u),{gain:0})),k=r(g,U(I({},c),{curve:_}));return{connectGraph(){v.connect(C),v.connect(T.inputs===void 0?T:T.inputs[0]),v.connect(w),T.connect(y),y.connect(S.inputs===void 0?S:S.inputs[0]),y.connect(k.inputs===void 0?k:k.inputs[0]),S.connect(C.gain),k.connect(w.gain),C.connect(f,0,0),w.connect(f,0,1)},disconnectGraph(){v.disconnect(C),v.disconnect(T.inputs===void 0?T:T.inputs[0]),v.disconnect(w),T.disconnect(y),y.disconnect(S.inputs===void 0?S:S.inputs[0]),y.disconnect(k.inputs===void 0?k:k.inputs[0]),S.disconnect(C.gain),k.disconnect(w.gain),C.disconnect(f,0,0),w.disconnect(f,0,1)}}},d=(g,v,y,f)=>{const p=new Float32Array(16385),_=new Float32Array(16385),C=new Float32Array(16385),S=new Float32Array(16385),T=Math.floor(16385/2);for(let j=0;j<16385;j+=1)if(j>T){const R=(j-T)/(16384-T)*l;p[j]=Math.cos(R),_[j]=Math.sin(R),C[j]=0,S[j]=1}else{const R=j/(16384-T)*l;p[j]=1,_[j]=0,C[j]=Math.cos(R),S[j]=Math.sin(R)}const w=e(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),k=n(g,U(I({},u),{gain:0})),N=r(g,U(I({},c),{curve:p})),M=n(g,U(I({},u),{gain:0})),O=r(g,U(I({},c),{curve:_})),E=r(g,U(I({},c),{curve:a})),V=n(g,U(I({},u),{gain:0})),A=r(g,U(I({},c),{curve:C})),W=n(g,U(I({},u),{gain:0})),F=r(g,U(I({},c),{curve:S}));return{connectGraph(){v.connect(w),v.connect(E.inputs===void 0?E:E.inputs[0]),w.connect(k,0),w.connect(M,0),w.connect(V,1),w.connect(W,1),E.connect(y),y.connect(N.inputs===void 0?N:N.inputs[0]),y.connect(O.inputs===void 0?O:O.inputs[0]),y.connect(A.inputs===void 0?A:A.inputs[0]),y.connect(F.inputs===void 0?F:F.inputs[0]),N.connect(k.gain),O.connect(M.gain),A.connect(V.gain),F.connect(W.gain),k.connect(f,0,0),V.connect(f,0,0),M.connect(f,0,1),W.connect(f,0,1)},disconnectGraph(){v.disconnect(w),v.disconnect(E.inputs===void 0?E:E.inputs[0]),w.disconnect(k,0),w.disconnect(M,0),w.disconnect(V,1),w.disconnect(W,1),E.disconnect(y),y.disconnect(N.inputs===void 0?N:N.inputs[0]),y.disconnect(O.inputs===void 0?O:O.inputs[0]),y.disconnect(A.inputs===void 0?A:A.inputs[0]),y.disconnect(F.inputs===void 0?F:F.inputs[0]),N.disconnect(k.gain),O.disconnect(M.gain),A.disconnect(V.gain),F.disconnect(W.gain),k.disconnect(f,0,0),V.disconnect(f,0,0),M.disconnect(f,0,1),W.disconnect(f,0,1)}}},m=(g,v,y,f,p)=>{if(v===1)return h(g,y,f,p);if(v===2)return d(g,y,f,p);throw s()};return(g,_)=>{var C=_,{channelCount:v,channelCountMode:y,pan:f}=C,p=Es(C,["channelCount","channelCountMode","pan"]);if(y==="max")throw s();const S=t(g,U(I({},p),{channelCount:1,channelCountMode:y,numberOfInputs:2})),T=n(g,U(I({},p),{channelCount:v,channelCountMode:y,gain:1})),w=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:f});let{connectGraph:k,disconnectGraph:N}=m(g,v,T,w,S);Object.defineProperty(w.gain,"defaultValue",{get:()=>0}),Object.defineProperty(w.gain,"maxValue",{get:()=>1}),Object.defineProperty(w.gain,"minValue",{get:()=>-1});const M={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(A){T.channelCount!==A&&(O&&N(),{connectGraph:k,disconnectGraph:N}=m(g,A,T,w,S),O&&k()),T.channelCount=A},get channelCountMode(){return T.channelCountMode},set channelCountMode(A){if(A==="clamped-max"||A==="max")throw s();T.channelCountMode=A},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(A){T.channelInterpretation=A},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get pan(){return w.gain},addEventListener(...A){return T.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return T.dispatchEvent(A[0])},removeEventListener(...A){return T.removeEventListener(A[0],A[1],A[2])}};let O=!1;const E=()=>{k(),O=!0},V=()=>{N(),O=!1};return i(_s(M,S),E,V)}},nw=(t,e,n,r,s,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);Fe(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();ge(u,{curve:c},"curve"),ge(u,l,"oversample");let h=null,d=!1;return o(u,"curve",v=>()=>v.call(u),v=>y=>(v.call(u,y),d&&(r(y)&&h===null?h=t(a,u):!r(y)&&h!==null&&(h(),h=null)),y)),s(u,()=>{d=!0,r(u.curve)&&(h=t(a,u))},()=>{d=!1,h!==null&&(h(),h=null)})},rw=(t,e,n,r,s)=>(i,u)=>{var c=u,{curve:o,oversample:a}=c,l=Es(c,["curve","oversample"]);const h=i.createWaveShaper(),d=i.createWaveShaper();Fe(h,l),Fe(d,l);const m=n(i,U(I({},l),{gain:1})),g=n(i,U(I({},l),{gain:-1})),v=n(i,U(I({},l),{gain:1})),y=n(i,U(I({},l),{gain:-1}));let f=null,p=!1,_=null;const C={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(w){m.channelCount=w,g.channelCount=w,h.channelCount=w,v.channelCount=w,d.channelCount=w,y.channelCount=w},get channelCountMode(){return h.channelCountMode},set channelCountMode(w){m.channelCountMode=w,g.channelCountMode=w,h.channelCountMode=w,v.channelCountMode=w,d.channelCountMode=w,y.channelCountMode=w},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(w){m.channelInterpretation=w,g.channelInterpretation=w,h.channelInterpretation=w,v.channelInterpretation=w,d.channelInterpretation=w,y.channelInterpretation=w},get context(){return h.context},get curve(){return _},set curve(w){if(w!==null&&w.length<2)throw e();if(w===null)h.curve=w,d.curve=w;else{const k=w.length,N=new Float32Array(k+2-k%2),M=new Float32Array(k+2-k%2);N[0]=w[0],M[0]=-w[k-1];const O=Math.ceil((k+1)/2),E=(k+1)/2-1;for(let V=1;V<O;V+=1){const A=V/O*E,W=Math.floor(A),F=Math.ceil(A);N[V]=W===F?w[W]:(1-(A-W))*w[W]+(1-(F-A))*w[F],M[V]=W===F?-w[k-1-W]:-((1-(A-W))*w[k-1-W])-(1-(F-A))*w[k-1-F]}N[O]=k%2===1?w[O-1]:(w[O-2]+w[O-1])/2,h.curve=N,d.curve=M}_=w,p&&(r(_)&&f===null?f=t(i,m):f!==null&&(f(),f=null))},get inputs(){return[m]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(w){h.oversample=w,d.oversample=w},addEventListener(...w){return m.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return m.dispatchEvent(w[0])},removeEventListener(...w){return m.removeEventListener(w[0],w[1],w[2])}};o!==null&&(C.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==C.oversample&&(C.oversample=a);const S=()=>{m.connect(h).connect(v),m.connect(g).connect(d).connect(y).connect(v),p=!0,r(_)&&(f=t(i,m))},T=()=>{m.disconnect(h),h.disconnect(v),m.disconnect(g),g.disconnect(d),d.disconnect(y),y.disconnect(v),p=!1,f!==null&&(f(),f=null)};return s(_s(C,v),S,T)},ot=()=>new DOMException("","NotSupportedError"),sw={numberOfChannels:1},iw=(t,e,n,r,s)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:d}=I(I({},sw),u),m=r(h,c,d);e(_i,()=>_i(m))||m.addEventListener("statechange",(()=>{let g=0;const v=y=>{this._state==="running"&&(g>0?(m.removeEventListener("statechange",v),y.stopImmediatePropagation(),this._waitForThePromiseToSettle(y)):g+=1)};return v})()),super(m,h),this._length=c,this._nativeOfflineAudioContext=m,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Sm(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},ow={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},aw=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h=I(I({},ow),u),d=n(c,h),m=i(c),g=m?r():null,v=l.sampleRate/2;super(l,!1,d,g),this._detune=e(this,m,d.detune,153600,-153600),this._frequency=e(this,m,d.frequency,v,-v),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){us(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),pn(this)&&Vi(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},lw=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const u=async(c,h)=>{let d=n(c);const m=Ze(d,h);if(!m){const g={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:o===null?void 0:o,type:d.type};d=e(h,g),a!==null&&d.start(a),l!==null&&d.stop(l)}return i.set(h,d),m?(await t(h,c.detune,d.detune),await t(h,c.frequency,d.frequency)):(await r(h,c.detune,d.detune),await r(h,c.frequency,d.frequency)),await s(c,h,d),d};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},uw={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},cw=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h=I(I({},uw),u),d=n(c,h),m=i(c),g=m?r():null;super(l,!1,d,g),this._nativePannerNode=d,this._orientationX=e(this,m,d.orientationX,Je,lt),this._orientationY=e(this,m,d.orientationY,Je,lt),this._orientationZ=e(this,m,d.orientationZ,Je,lt),this._positionX=e(this,m,d.positionX,Je,lt),this._positionY=e(this,m,d.positionY,Je,lt),this._positionZ=e(this,m,d.positionZ,Je,lt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},hw=(t,e,n,r,s,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;const d=async(m,g)=>{let v=null,y=i(m);const f={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation},p=U(I({},f),{coneInnerAngle:y.coneInnerAngle,coneOuterAngle:y.coneOuterAngle,coneOuterGain:y.coneOuterGain,distanceModel:y.distanceModel,maxDistance:y.maxDistance,panningModel:y.panningModel,refDistance:y.refDistance,rolloffFactor:y.rolloffFactor}),_=Ze(y,g);if("bufferSize"in y)v=r(g,U(I({},f),{gain:1}));else if(!_){const C=U(I({},p),{orientationX:y.orientationX.value,orientationY:y.orientationY.value,orientationZ:y.orientationZ.value,positionX:y.positionX.value,positionY:y.positionY.value,positionZ:y.positionZ.value});y=s(g,C)}if(c.set(g,v===null?y:v),v!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const O=new o(6,m.context.length,g.sampleRate),E=e(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});E.connect(O.destination),h=(async()=>{const V=await Promise.all([m.orientationX,m.orientationY,m.orientationZ,m.positionX,m.positionY,m.positionZ].map(async(A,W)=>{const F=n(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:W===0?1:0});return await a(O,A,F.offset),F}));for(let A=0;A<6;A+=1)V[A].connect(E,0,A),V[A].start(0);return u(O)})()}const C=await h,S=r(g,U(I({},f),{gain:1}));await l(m,g,S);const T=[];for(let O=0;O<C.numberOfChannels;O+=1)T.push(C.getChannelData(O));let w=[T[0][0],T[1][0],T[2][0]],k=[T[3][0],T[4][0],T[5][0]],N=r(g,U(I({},f),{gain:1})),M=s(g,U(I({},p),{orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:k[0],positionY:k[1],positionZ:k[2]}));S.connect(N).connect(M.inputs[0]),M.connect(v);for(let O=128;O<C.length;O+=128){const E=[T[0][O],T[1][O],T[2][O]],V=[T[3][O],T[4][O],T[5][O]];if(E.some((A,W)=>A!==w[W])||V.some((A,W)=>A!==k[W])){w=E,k=V;const A=O/g.sampleRate;N.gain.setValueAtTime(0,A),N=r(g,U(I({},f),{gain:0})),M=s(g,U(I({},p),{orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:k[0],positionY:k[1],positionZ:k[2]})),N.gain.setValueAtTime(1,A),S.connect(N).connect(M.inputs[0]),M.connect(v)}}return v}return _?(await t(g,m.orientationX,y.orientationX),await t(g,m.orientationY,y.orientationY),await t(g,m.orientationZ,y.orientationZ),await t(g,m.positionX,y.positionX),await t(g,m.positionY,y.positionY),await t(g,m.positionZ,y.positionZ)):(await a(g,m.orientationX,y.orientationX),await a(g,m.orientationY,y.orientationY),await a(g,m.orientationZ,y.orientationZ),await a(g,m.positionX,y.positionX),await a(g,m.positionY,y.positionY),await a(g,m.positionZ,y.positionZ)),vs(y)?await l(m,g,y.inputs[0]):await l(m,g,y),y};return{render(m,g){const v=c.get(g);return v!==void 0?Promise.resolve(v):d(m,g)}}},dw={disableNormalization:!1},fw=(t,e,n,r)=>class Mm{constructor(i,o){const a=e(i),l=r(I(I({},dw),o)),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Mm.prototype||n.has(i)}},pw=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),mw=(t,e,n)=>async(r,s,i)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const d=await e(u).render(u,s),m=r.context.destination;!n(u)&&(r!==m||!n(r))&&d.connect(i,c,l)})).reduce((a,l)=>[...a,...l],[]))},gw=(t,e,n)=>async(r,s,i)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,s);n(a)||c.connect(i,l)}))},vw=(t,e,n,r)=>s=>t(_i,()=>_i(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}),_w=t=>(e,n)=>{t.set(e,n)},yw=t=>(e,n)=>t.set(e,n),ww=(t,e,n,r,s,i,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(r(u)).map(c=>n(c).render(c,u)))).then(()=>s(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),Fc(c)):e(i,()=>i(c))||a(c),t.add(c),c)),Sw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},kw=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c=I(I({},Sw),l),h=n(u,c),d=i(u),m=d?r():null;super(a,!1,h,m),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},Tw=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.pan,u.pan):await r(l,a.pan,u.pan),vs(u)?await s(a,l,u.inputs[0]):await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Cw=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},xw=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{await r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering()}catch{}finally{URL.revokeObjectURL(s)}return i&&!o},Nw=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},Ew=()=>new DOMException("","UnknownError"),Ow={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Aw=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h=I(I({},Ow),u),d=n(c,h),g=i(c)?r():null;super(l,!0,d,g),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},Rw=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return r.set(o,a),vs(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},Mw=()=>typeof window=="undefined"?null:window,Iw=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)r[h]=u[h+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)u[h+o]=r[h]}},Dw=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},Pw=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},bw=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(r,0,l)},()=>s.disconnect(r))},Im=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Dm=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Hi=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},Lw=t=>U(I({},t),{outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Fw=t=>U(I({},t),{channelCount:t.numberOfOutputs}),Vw=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?U(I({},t),{imag:[0,0],real:[0,0]}):U(I({},t),{imag:Array.from(n,()=>0),real:n}):n===void 0?U(I({},t),{imag:e,real:Array.from(e,()=>0)}):U(I({},t),{imag:e,real:n})},Pm=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Pm(t,e,n+1e-7)}},zw=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Bw=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},Ww=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},jc=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},bm=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Hc=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},jw=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Hw=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=i===null?r:Math.min(i.duration,r);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)},Lm=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),_s(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},ys=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},Uw=cy(Tr),qw=gy(Tr),$w=O0(ja),Fm=new WeakMap,Gw=$0(Fm),Ut=s0(new Map,new WeakMap),en=Mw(),Vm=k1(Ut,tn),Uc=q0(et),qe=mw(et,Uc,gr),Qw=Sy(Vm,pe,qe),ce=X0(Wa),Sn=X1(en),oe=d1(Sn),zm=new WeakMap,Bm=V0(ys),Ui=N1(en),qc=l1(Ui),$c=u1(en),Wm=c1(en),yi=O1(en),Re=$y(hy(pm),my(Uw,qw,ca,$w,ha,et,Gw,Fi,pe,Tr,pn,gr,Io),Ut,r1(Mu,ha,et,pe,vi,pn),tn,Ha,ot,C0(ca,Mu,et,pe,vi,ce,pn,oe),M0(zm,et,jt),Bm,ce,qc,$c,Wm,oe,yi),Xw=wy(Re,Qw,tn,Vm,ce,oe),Gc=new WeakSet,zd=T1(en),jm=v0(new Uint32Array(1)),Qc=Iw(jm,tn),Xc=Dw(jm),Yw=Ty(Gc,Ut,ot,zd,Sn,Cw(zd),Qc,Xc),Ua=vy(mt),Hm=gw(Uc,zi,gr),nn=h0(Hm),ws=x1(Ua,Ut,zw,Bw,Ww,jc,bm,Hc,Hw,Pw(Hi),Lm),rn=pw(G0(zi),Hm),Zw=Ny(nn,ws,pe,rn,qe),qt=Gy(dy(mm),zm,Lc,Qy,sy,iy,oy,ay,ly,Ou,dm,Ui,Pm),Kw=xy(Re,Zw,qt,Be,ws,ce,oe,ys),Jw=by(Re,Ly,tn,Be,E1(mt,Hi),ce,oe,qe),eS=r0(nn,Am,pe,rn,qe),Cr=yw(Fm),tS=n0(Re,qt,eS,Ha,Am,ce,oe,Cr),Zn=w1(Tr,$c),nS=bw(Be,Zn),Kn=b1(Ui,nS),rS=a0(Kn,pe,qe),sS=o0(Re,rS,Kn,ce,oe),iS=c0(Wi,pe,qe),oS=u0(Re,iS,Wi,ce,oe,Fw),aS=V1(Ua,ws,mt,Zn),Ss=F1(Ua,Ut,aS,jc,Hc),lS=g0(nn,Ss,pe,rn,qe),uS=m0(Re,qt,lS,Ss,ce,oe,ys),Um=z1(ot,Hi),cS=w0(Um,pe,qe),hS=y0(Re,cS,Um,ce,oe,Cr),dS=E0(nn,Rm,pe,rn,qe),fS=N0(Re,qt,dS,Rm,ce,oe,Cr),qm=B1(ot),pS=b0(nn,qm,pe,rn,qe),mS=P0(Re,qt,pS,qm,ot,ce,oe,Cr),gS=H0(nn,mt,pe,rn,qe),vS=j0(Re,qt,gS,mt,ce,oe),_S=U1(Ha,Be,ji,ot),qa=vw(Ut,mt,ji,Nw(mt,Sn)),yS=n1(ws,pe,Sn,qe,qa),wS=W1(_S),SS=e1(Re,wS,yS,ce,oe,Cr),kS=Fy(qt,Kn,Ss,ji,ot,Im,oe,Hi),$m=new WeakMap,TS=y1(Jw,kS,Bm,oe,$m,ys),Gm=Y1(Ua,Ut,jc,bm,Hc,Lm),CS=lw(nn,Gm,pe,rn,qe),xS=aw(Re,qt,Gm,CS,ce,oe,ys),Qm=f0(ws),NS=rw(Qm,Be,mt,Dm,Zn),$a=nw(Qm,Be,NS,Dm,Zn,Ui,Hi),ES=K1(ca,Be,Kn,mt,ji,$a,ot,ha,Im,Zn),Xm=Z1(ES),OS=hw(nn,Kn,Ss,mt,Xm,pe,Sn,rn,qe,qa),AS=cw(Re,qt,Xm,OS,ce,oe,Cr),RS=J1(tn),MS=fw(RS,ce,new WeakSet,Vw),IS=tw(Kn,Wi,mt,$a,ot,Zn),Ym=ew(IS,ot),DS=Tw(nn,Ym,pe,rn,qe),PS=kw(Re,qt,Ym,DS,ce,oe),bS=Rw($a,pe,qe),LS=Aw(Re,Be,$a,bS,ce,oe,Cr),Zm=f1(en),Yc=z0(en),Km=new WeakMap,FS=Y0(Km,Sn),VS=Zm?py(Ut,ot,F0(en),Yc,B0(uy),ce,FS,oe,yi,new WeakMap,new WeakMap,xw(yi,Sn),en):void 0,zS=h1(qc,oe),BS=T0(Gc,Ut,k0,L0,new WeakSet,ce,zS,la,_i,Qc,Xc),Jm=e0(VS,Xw,Yw,Kw,tS,sS,oS,uS,hS,BS,fS,mS,vS,SS,TS,xS,AS,MS,PS,LS),WS=p1(Re,q1,ce,oe),jS=g1(Re,$1,ce,oe),HS=v1(Re,G1,ce,oe),US=Q1(Be,oe),qS=_1(Re,US,ce),$S=Py(Jm,Be,ot,Ew,WS,jS,HS,qS,Ui),Zc=Z0($m),GS=_y(Zc),eg=d0(tn),QS=A0(Zc),tg=I0(tn),ng=new WeakMap,XS=U0(ng,jt),YS=P1(eg,tn,Be,Kn,Wi,Ss,mt,ji,ot,tg,Yc,XS,Zn),ZS=R1(Be,YS,mt,ot,Zn),KS=Jy(nn,eg,ws,Kn,Wi,Ss,mt,QS,tg,Yc,pe,yi,Sn,rn,qe,qa),JS=Q0(Km),ek=_w(ng),Bd=Zm?Yy(GS,Re,qt,KS,ZS,et,JS,ce,oe,yi,Lw,ek,jw,ys):void 0,tk=S0(ot,Sn),nk=ww(Gc,Ut,Uc,Zc,qa,la,Qc,Xc),rk=iw(Jm,Ut,Be,tk,nk),sk=s1(Wa,qc),ik=i1(bc,$c),ok=o1(Lc,Wm),ak=a1(Wa,oe);function Y(t,e){if(!t)throw new Error(e)}function qn(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function rg(t){!t.isOffline&&t.state!=="running"&&ig('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let sg=console;function lk(...t){sg.log(...t)}function ig(...t){sg.warn(...t)}function _t(t){return typeof t=="undefined"}function Z(t){return!_t(t)}function uk(t){return typeof t=="function"}function _n(t){return typeof t=="number"}function Bn(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function og(t){return typeof t=="boolean"}function pt(t){return Array.isArray(t)}function Ht(t){return typeof t=="string"}function go(t){return Ht(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function ck(t){return new $S(t)}function hk(t,e,n){return new rk(t,e,n)}const ar=typeof self=="object"?self:null,dk=ar&&(ar.hasOwnProperty("AudioContext")||ar.hasOwnProperty("webkitAudioContext"));function fk(t,e,n){return Y(Z(Bd),"This node only works in a secure context (https or localhost)"),new Bd(t,e,n)}function $t(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Ie(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}class pk{constructor(e,n,r){this._callback=e,this._type=n,this._updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(e*1e3,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function vr(t){return ok(t)}function Wn(t){return ik(t)}function Do(t){return ak(t)}function Mr(t){return sk(t)}function ag(t){return t instanceof AudioBuffer}function mk(t,e){return t==="value"||vr(e)||Wn(e)||ag(e)}function Zr(t,...e){if(!e.length)return t;const n=e.shift();if(Bn(t)&&Bn(n))for(const r in n)mk(r,n[r])?t[r]=n[r]:Bn(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Zr(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Zr(t,...e)}function gk(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function L(t,e,n=[],r){const s={},i=Array.from(e);if(Bn(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Zr(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&Bn(i[0]))Zr(s,i[0]);else for(let o=0;o<n.length;o++)Z(i[o])&&(s[n[o]]=i[o]);return Zr(t,s)}function vk(t){return t.constructor.getDefaults()}function Jt(t,e){return _t(t)?e:t}function Lu(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class kn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||ar&&this.toString()===ar.TONE_DEBUG_CLASS)&&lk(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}kn.version=hm;const Kc=1e-6;function ma(t,e){return t>e+Kc}function Fu(t,e){return ma(t,e)||Lt(t,e)}function lg(t,e){return t+Kc<e}function Lt(t,e){return Math.abs(t-e)<Kc}function _k(t,e,n){return Math.max(Math.min(t,n),e)}class sn extends kn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=L(sn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Y(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];Y(Fu(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Lt(this._timeline[n].time,e)){for(let r=n;r>=0&&Lt(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Fu(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Lt(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(Lt(c[n],e))o=u;else break}return o}else{if(lg(a[n],e)&&ma(l[n],e))return o;ma(a[n],e)?i=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Lt(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&Lt(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const ug=[];function Ga(t){ug.push(t)}function yk(t){ug.forEach(e=>e(t))}const cg=[];function Qa(t){cg.push(t)}function wk(t){cg.forEach(e=>e(t))}class qi extends kn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{_t(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(_t(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(_t(n))this._events[e]=[];else{const i=this._events[e];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(qi.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class hg extends qi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class $i extends hg{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new sn,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=L($i.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=ck({latencyHint:e.latencyHint}),this._ticker=new pk(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(yk(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Y(Mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Y(Mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Y(Mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Y(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Y(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Y(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Y(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return fk(this.rawContext,e,n)}addAudioWorkletModule(e,n){return Ie(this,void 0,void 0,function*(){Y(Z(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(n)})}workletsAreReady(){return Ie(this,void 0,void 0,function*(){const e=[];this._workletModules.forEach(n=>e.push(n)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let n=0;if(this._latencyHint=e,Ht(e))switch(e){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25;break}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Mr(this._context)?this._context.resume():Promise.resolve()}close(){return Ie(this,void 0,void 0,function*(){Mr(this._context)&&(yield this._context.close()),this._initialized&&wk(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class Sk extends hg{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e,n){return Ie(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function xe(t,e){pt(e)?e.forEach(n=>xe(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function dg(t,e){pt(e)?e.forEach(n=>dg(t,n)):Object.defineProperty(t,e,{writable:!0})}const ie=()=>{};class le extends kn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ie;const e=L(le.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&ag(e.url)||e.url instanceof le?this.set(e.url):Ht(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:ie,onload:ie,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Vt().sampleRate}set(e){return e instanceof le?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ie(this,void 0,void 0,function*(){const n=le.load(e).then(r=>{this.set(r),this.onload(this)});le.downloads.push(n);try{yield n}finally{const r=le.downloads.indexOf(n);le.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=pt(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=Vt(),o=i.createBuffer(r,s,i.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(_n(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(_n(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);Y(r<s,"The start time must be less than the end time");const i=s-r,o=Vt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,s),a);return new le(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new le().fromArray(e)}static fromUrl(e){return Ie(this,void 0,void 0,function*(){return yield new le().load(e)})}static load(e){return Ie(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const a=n[1].split("|");let l=a[0];for(const u of a)if(le.supportsType(u)){l=u;break}e=e.replace(n[0],l)}const r=le.baseUrl===""||le.baseUrl.endsWith("/")?le.baseUrl:le.baseUrl+"/",s=yield fetch(r+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const i=yield s.arrayBuffer();return yield Vt().decodeAudioData(i)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Ie(this,void 0,void 0,function*(){for(yield Promise.resolve();le.downloads.length;)yield le.downloads[0]})}}le.baseUrl="";le.downloads=[];class Jc extends $i{constructor(){super({clockSource:"offline",context:Do(arguments[0])?arguments[0]:hk(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Do(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Do(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ie(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(e=!0){return Ie(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new le(n)})}close(){return Promise.resolve()}}const fg=new Sk;let Kr=fg;function Vt(){return Kr===fg&&dk&&kk(new $i),Kr}function kk(t){Mr(t)?Kr=new $i(t):Do(t)?Kr=new Jc(t):Kr=t}function Tk(){return Kr.resume()}if(ar&&!ar.TONE_SILENCE_LOGGING){const e=` * Tone.js v${hm} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function Ck(t){return Math.pow(10,t/20)}function xk(t){return 20*(Math.log(t)/Math.LN10)}function pg(t){return Math.pow(2,t/12)}let Xa=440;function Nk(){return Xa}function Ek(t){Xa=t}function Vu(t){return Math.round(mg(t))}function mg(t){return 69+12*Math.log2(t/Xa)}function Ok(t){return Xa*Math.pow(2,(t-69)/12)}class eh extends kn{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof eh&&this.fromType(this._val),_t(this._val))return this._noArg();if(Ht(this._val)&&_t(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Bn(this._val)){let e=0;for(const n in this._val)if(Z(this._val[n])){const r=this._val[n];e+=new this.constructor(this.context,n).valueOf()*r}return e}if(Z(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Ht(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class zt extends eh{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new zt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),a=Math.round(s/r)*r-s;return s+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new zt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new zt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Vu(this.toFrequency())}_now(){return this.context.now()}}class Et extends zt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Nk()}static set A4(e){Ek(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Et.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,n){const s=Ak[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:Et.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new Et(this.context,this.valueOf()*pg(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Vu(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Et.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),Rk[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Ok(e)}static ftom(e){return Vu(e)}}const Ak={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Rk=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Jr extends zt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Xe extends kn{constructor(){super();const e=L(Xe.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Vt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new zt(this.context,e).toSeconds()}toFrequency(e){return new Et(this.context,e).toFrequency()}toTicks(e){return new Jr(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{_t(e[r])&&delete n[r]}),n}get(){const e=vk(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];Z(r)&&Z(r.value)&&Z(r.setValueAtTime)?e[n]=r.value:r instanceof Xe?e[n]=r._getPartialProperties(e[n]):pt(r)||_n(r)||Ht(r)||og(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Z(this[n])&&(this[n]&&Z(this[n].value)&&Z(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Xe?this[n].set(e[n]):this[n]=e[n])}),this}}class Gi extends sn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return qn(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class me extends Xe{constructor(){super(L(me.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=L(me.getDefaults(),arguments,["param","units","convert"]);for(Y(Z(e.param)&&(vr(e.param)||e.param instanceof me),"param must be an AudioParam");!vr(e.param);)e.param=e.param._param;this._swappable=Z(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new sn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Z(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Xe.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Z(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Z(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Z(this.maxValue)&&Z(this.minValue)&&qn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?Ck(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?xk(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return Y(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let a;o===null?a=this._initialValue:a=o.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,a,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,o,r.time,r.value,n):i=this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return Y(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Lt(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return Y(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);Y(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),Y(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return Y(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));Y(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&Lt(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){Y(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class J extends Xe{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Z(this.input)?vr(this.input)||this.input instanceof me?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Z(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Z(e)&&(e instanceof J||Wn(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Y(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return ks(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return ig("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return Mk(this,e,n,r),this}chain(...e){return zu(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Z(this.input)&&(this.input instanceof J?this.input.dispose():Wn(this.input)&&this.input.disconnect()),Z(this.output)&&(this.output instanceof J?this.output.dispose():Wn(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function zu(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof J?n.connect(r):Wn(n)&&ks(n,r),r),e)}function ks(t,e,n=0,r=0){for(Y(Z(t),"Cannot connect from undefined node"),Y(Z(e),"Cannot connect to undefined node"),(e instanceof J||Wn(e))&&Y(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Y(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof J||e instanceof me;)Z(e.input)&&(e=e.input);for(;t instanceof J;)Z(t.output)&&(t=t.output);vr(e)?t.connect(e,n):t.connect(e,n,r)}function Mk(t,e,n=0,r=0){if(Z(e))for(;e instanceof J;)e=e.input;for(;!Wn(t);)Z(t.output)&&(t=t.output);vr(e)?t.disconnect(e,n):Wn(e)?t.disconnect(e,n,r):t.disconnect()}class rt extends J{constructor(){super(L(rt.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=L(rt.getDefaults(),arguments,["gain","units"]);this.gain=new me({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),xe(this,"gain")}static getDefaults(){return Object.assign(J.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class cs extends J{constructor(e){super(e),this.onended=ie,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new rt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(J.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ie})}_startGain(e,n=1){Y(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Y(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ie&&(this.onended(this),this.onended=ie,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback!="undefined"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Y(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class ga extends cs{constructor(){super(L(ga.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=L(ga.getDefaults(),arguments,["offset"]);ks(this._source,this._gainNode),this.offset=new me({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(cs.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Ve extends J{constructor(){super(L(Ve.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=L(Ve.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ga({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(J.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return th(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function th(t,e,n,r){(e instanceof me||vr(e)||e instanceof Ve&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Ve&&(e.overridden=!0)),ks(t,e,n,r)}class va extends me{constructor(){super(L(va.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new sn(1/0),this._multiplier=1;const e=L(va.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(me.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,u=this._exponentialApproach(i.time,i.value,s,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),o=(n-s.time)/i;for(let a=0;a<=i;a++){const l=o*a+s.time,u=this._exponentialInterpolate(s.time,s.value,n,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(_t(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),l=(-s+a)/o,u=(-s-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class _a extends Ve{constructor(){super(L(_a.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=L(_a.getDefaults(),arguments,["value"]);this.input=this._param=new va({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Ve.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class ya extends Xe{constructor(){super(L(ya.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Gi,this._tickOffset=new sn;const e=L(ya.getDefaults(),arguments,["frequency"]);this.frequency=new _a({context:this.context,units:e.units,value:e.frequency}),xe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Xe.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Z(n)&&this.setTicksAtTime(n,r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&this._state.setStateAtTime("paused",n),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s={state:"paused",time:n};this._state.add(s);let i=r,o=0;return this._state.forEachBetween(r.time,n+this.sampleTime,a=>{let l=i.time;const u=this._tickOffset.get(a.time);u&&u.time>=i.time&&(o=u.ticks,l=u.time),i.state==="started"&&a.state!=="started"&&(o+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(l)),i=a}),this._state.remove(s),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let s=n,i=0;return this._state.forEachBetween(n.time,e+this.sampleTime,o=>{let a=s.time;const l=this._tickOffset.get(o.time);l&&l.time>=s.time&&(i=l.seconds,a=l.time),s.state==="started"&&o.state!=="started"&&(i+=o.time-a),s=o}),this._state.remove(r),i}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&s.state==="started"){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(s.time),u=a-l;let c=Math.ceil(u)-u;c=Lt(c,1)?0:c;let h=this.frequency.getTimeOfTick(a+c);for(;h<n;){try{r(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class wi extends Xe{constructor(){super(L(wi.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=ie,this._lastUpdate=0,this._state=new Gi("stopped"),this._boundLoop=this._loop.bind(this);const e=L(wi.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new ya({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,xe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Xe.getDefaults(),{callback:ie,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){rg(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}qi.mixin(wi);class nh extends kn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=L(nh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ie,onload:ie,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Y(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=ie,s=ie){return Ht(n)?this._buffers.set(e.toString(),new le(this.baseUrl+n,r,s)):this._buffers.set(e.toString(),new le(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class de extends Jr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Ik extends Xe{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new sn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ga(t=>{t.draw=new Ik({context:t})});Qa(t=>{t.draw.dispose()});class Dk extends kn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Y(Z(e.time),"Events must have a time property"),Y(Z(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new Pk(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class Pk{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class $n extends J{constructor(){super(L($n.getDefaults(),arguments,["volume"])),this.name="Volume";const e=L($n.getDefaults(),arguments,["volume"]);this.input=this.output=new rt({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,xe(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(J.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class wa extends J{constructor(){super(L(wa.getDefaults(),arguments)),this.name="Destination",this.input=new $n({context:this.context}),this.output=new rt({context:this.context}),this.volume=this.input.volume;const e=L(wa.getDefaults(),arguments);zu(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(J.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),zu(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ga(t=>{t.destination=new wa({context:t})});Qa(t=>{t.destination.dispose()});class bk extends kn{constructor(e){super(),this.name="TimelineValue",this._timeline=new sn({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Gn{constructor(e,n){this.id=Gn._eventId++;const r=Object.assign(Gn.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=r.time}static getDefaults(){return{callback:ie,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Gn._eventId=0;class rh extends Gn{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(rh.getDefaults(),n);this.duration=new de(e.context,r.duration).valueOf(),this._interval=new de(e.context,r.interval).valueOf(),this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Gn.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const n=this.transport.getTicksAtTime(e);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new de(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const n=this.transport.getTicksAtTime(e);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new de(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new de(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Si extends Xe{constructor(){super(L(Si.getDefaults(),arguments)),this.name="Transport",this._loop=new bk(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new sn,this._repeatedEvents=new Dk,this._syncedSignals=[],this._swingAmount=0;const e=L(Si.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new wi({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),xe(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Xe.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new de(this.context,this._swingTicks*2/3).toSeconds()*s}this._timeline.forEachAtTime(n,r=>r.invoke(e))}schedule(e,n){const r=new Gn(this,{callback:e,time:new Jr(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new rh(this,{callback:e,duration:new zt(this.context,s).toTicks(),interval:new zt(this.context,n).toTicks(),time:new Jr(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new Gn(this,{callback:e,once:!0,time:new Jr(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new de(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){let r;return Z(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){pt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new zt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new zt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new de(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new de(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){if(!n){const s=this.now();if(e.getValueAtTime(s)!==0){const i=this.bpm.getValueAtTime(s),o=1/(60/i/this.PPQ);n=e.getValueAtTime(s)/o}else n=0}const r=new rt(n);return this.bpm.connect(r),r.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:r,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.ratio.dispose(),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),dg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}qi.mixin(Si);Ga(t=>{t.transport=new Si({context:t})});Qa(t=>{t.transport.dispose()});class wt extends J{constructor(e){super(e),this.input=void 0,this._state=new Gi("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ie,this._syncedStop=ie,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new $n({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,xe(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(J.getDefaults(),{mute:!1,onstop:ie,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=_t(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")Y(ma(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(Jt(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else rg(this.context),this._start(s,n,r);return this}stop(e){let n=_t(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Z(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(n>0){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ie,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ki extends cs{constructor(){super(L(ki.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=L(ki.getDefaults(),arguments,["url","onload"]);ks(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new me({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new le(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(cs.getDefaults(),{url:new le,loop:!1,loopEnd:0,loopStart:0,onload:ie,onerror:ie,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){Y(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=Jt(n,this.loopStart):n=Jt(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;Fu(o,a)&&(o=(o-l)%u+l),Lt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,lg(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),Z(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function xr(t,e){return Ie(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new Jc(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Sa extends cs{constructor(){super(L(Sa.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=L(Sa.getDefaults(),arguments,["frequency","type"]);ks(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new me({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new me({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),xe(this,["frequency","detune"])}static getDefaults(){return Object.assign(cs.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Oe extends wt{constructor(){super(L(Oe.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=L(Oe.getDefaults(),arguments,["frequency","type"]);this.frequency=new Ve({context:this.context,units:"frequency",value:e.frequency}),xe(this,"frequency"),this.detune=new Ve({context:this.context,units:"cents",value:e.detune}),xe(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(wt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Sa({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Oe._periodicWaveCache.find(n=>n.phase===this._phase&&gk(n.partials,this._partials));{const e=Oe._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(Z(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(s,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Oe._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),Oe._periodicWaveCache.length>100&&Oe._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){qn(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,o)=>s[o]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),o=new Float32Array(s);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let l=1;l<s;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(i[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let o=0;o<i;o++)s+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let o=0;o<i;o++)r=Math.max(this._inverseFFT(e,n,o/i*s),r);return _k(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return Ie(this,void 0,void 0,function*(){return xr(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Oe._periodicWaveCache=[];class Ya extends J{constructor(){super(Object.assign(L(Ya.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return th(this,e,n,r),this}}class Ti extends Ya{constructor(){super(Object.assign(L(Ti.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=L(Ti.getDefaults(),arguments,["mapping","length"]);pt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):uk(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Ve.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const o=s/(i-1)*2-1;r[s]=e(o,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));Y(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Lk extends Ya{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ti({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class _r extends Ve{constructor(){super(Object.assign(L(_r.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=L(_r.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new rt({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ve.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ci extends wt{constructor(){super(L(Ci.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Lk({context:this.context}),this._modulationNode=new rt({context:this.context});const e=L(Ci.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Oe({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new _r({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),xe(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oe.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Ie(this,void 0,void 0,function*(){return xr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class xi extends wt{constructor(){super(L(xi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new rt({context:this.context,gain:0});const e=L(xi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oe({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Ve({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Oe({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new _r({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new _r({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),xe(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oe.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Ie(this,void 0,void 0,function*(){return xr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class hs extends wt{constructor(){super(L(hs.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new rt({context:this.context,gain:0}),this._thresh=new Ti({context:this.context,mapping:n=>n<=0?-1:1});const e=L(hs.getDefaults(),arguments,["frequency","width"]);this.width=new Ve({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Oe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),xe(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(wt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Ie(this,void 0,void 0,function*(){return xr(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ni extends wt{constructor(){super(L(Ni.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=L(Ni.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Ve({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ve({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,xe(this,["frequency","detune"])}static getDefaults(){return Object.assign(Oe.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(qn(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new Oe({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):ie});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return Ie(this,void 0,void 0,function*(){return xr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Ei extends wt{constructor(){super(L(Ei.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new _r({context:this.context,value:2});const e=L(Ei.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new hs({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Oe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),xe(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(wt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Ie(this,void 0,void 0,function*(){return xr(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Wd={am:Ci,fat:Ni,fm:xi,oscillator:Oe,pulse:hs,pwm:Ei};class Oi extends wt{constructor(){super(L(Oi.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=L(Oi.getDefaults(),arguments,["frequency","type"]);this.frequency=new Ve({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ve({context:this.context,units:"cents",value:e.detune}),xe(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Oe.getDefaults(),xi.getDefaults(),Ci.getDefaults(),Ni.getDefaults(),hs.getDefaults(),Ei.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Wd[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Wd[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&_n(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&_n(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ht(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return Ie(this,void 0,void 0,function*(){return xr(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function gg(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){qn(i,t,e),n.set(this,i)}})}}function Tn(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){qn(this.toSeconds(i),t,e),n.set(this,i)}})}}class Ai extends wt{constructor(){super(L(Ai.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=L(Ai.getDefaults(),arguments,["url","onload"]);this._buffer=new le({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(wt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ie,onerror:ie,playbackRate:1,reverse:!1})}load(e){return Ie(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=ie){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Jt(n,this._loopStart):n=Jt(n,0);const s=this.toSeconds(n),i=r;r=Jt(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new ki({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&_t(i)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){this._stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&qn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&qn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}$t([Tn(0)],Ai.prototype,"fadeIn",void 0);$t([Tn(0)],Ai.prototype,"fadeOut",void 0);class yn extends J{constructor(){super(L(yn.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Ve({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=L(yn.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(J.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Ht(e))return e;{let r;for(r in vo)if(vo[r][n]===e)return r;return e}}_setCurve(e,n,r){if(Ht(r)&&Reflect.has(vo,r)){const s=vo[r];Bn(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(pt(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){Y(["linear","exponential"].some(n=>n===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/s;s=(1-o)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+s;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(Y(pt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return th(this,e,n,r),this}asArray(e=1024){return Ie(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,r=new Jc(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(s+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}$t([Tn(0)],yn.prototype,"attack",void 0);$t([Tn(0)],yn.prototype,"decay",void 0);$t([gg(0,1)],yn.prototype,"sustain",void 0);$t([Tn(0)],yn.prototype,"release",void 0);const vo=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/(128-1)*(Math.PI/2));const s=[],i=6.4;for(e=0;e<128-1;e++){n=e/(128-1);const d=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=d/10+n*.83}s[128-1]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/(128-1)*a)/a;const l=[];for(e=0;e<128;e++)n=e/(128-1),l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/(128-1);const d=Math.pow(n,3)*4+.2,m=Math.cos(d*Math.PI*2*n);u[e]=Math.abs(m*(1-n))}function c(d){const m=new Array(d.length);for(let g=0;g<d.length;g++)m[g]=1-d[g];return m}function h(d){return d.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:r,Out:h(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:c(s)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class yr extends J{constructor(){super(L(yr.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=L(yr.getDefaults(),arguments);this._volume=this.output=new $n({context:this.context,volume:e.volume}),this.volume=this._volume.volume,xe(this,"volume")}static getDefaults(){return Object.assign(J.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],o=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class wr extends yr{constructor(){super(L(wr.getDefaults(),arguments));const e=L(wr.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(yr.getDefaults(),{detune:0,onsilence:ie,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof Et?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}$t([Tn(0)],wr.prototype,"portamento",void 0);class sh extends yn{constructor(){super(L(sh.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new rt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ds extends wr{constructor(){super(L(ds.getDefaults(),arguments)),this.name="Synth";const e=L(ds.getDefaults(),arguments);this.oscillator=new Oi(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new sh(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),xe(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(wr.getDefaults(),{envelope:Object.assign(Lu(yn.getDefaults(),Object.keys(J.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Lu(Oi.getDefaults(),[...Object.keys(wt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ri extends ds{constructor(){super(L(Ri.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=L(Ri.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,xe(this,["oscillator","envelope"])}static getDefaults(){return Zr(wr.getDefaults(),ds.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof Et?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}$t([gg(0)],Ri.prototype,"octaves",void 0);$t([Tn(0)],Ri.prototype,"pitchDecay",void 0);const vg=new Set;function ih(t){vg.add(t)}function _g(t,e){const n=`registerProcessor("${t}", ${e})`;vg.add(n)}const Fk=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;ih(Fk);const Vk=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;ih(Vk);const zk=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;ih(zk);const Bk="feedback-comb-filter",Wk=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;_g(Bk,Wk);class fs extends yr{constructor(){super(L(fs.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=L(fs.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(Y(go(r)||_n(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),go(r)){const i=new Et(this.context,r).toMidi();n[i]=e.urls[r]}else _n(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new nh({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(yr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ie,onerror:ie,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=mg(new Et(this.context,s).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),h=pg(l+a),d=new ki({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(n,0,c.duration/h,r),pt(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const m=this._activeSources.get(o),g=m.indexOf(d);g!==-1&&m.splice(g,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new Et(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),pt(n)?(Y(pt(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(Y(go(e)||isFinite(e),`note must be a pitch or midi: ${e}`),go(e)){const s=new Et(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}$t([Tn(0)],fs.prototype,"attack",void 0);$t([Tn(0)],fs.prototype,"release",void 0);class dn extends Xe{constructor(){super(L(dn.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Gi("stopped"),this._startOffset=0;const e=L(dn.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Xe.getDefaults(),{callback:ie,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let r;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const s=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||_n(this._loop)&&this._loop>1){r=1/0,_n(this._loop)&&(r=this._loop*this._getLoopDuration());const i=this._state.getAfter(s);i!==null&&(r=Math.min(r,i.time-s)),r!==1/0&&(this._state.setStateAtTime("stopped",s+r+1,{id:-1}),r=new de(this.context,r));const o=new de(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),o,new de(this.context,s),r)}else n.id=this.context.transport.schedule(this._tick.bind(this),new de(this.context,s))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const r=this._state.getBefore(n);let s=n;r!==null&&(s=r.time),this._rescheduleEvents(s)}return this}cancel(e){e=Jt(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,r=>{this.context.transport.clear(r.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let r=.02;og(this.humanize)||(r=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*r}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new de(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new de(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const r=this._getLoopDuration();return(e-n.time)%r/r}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class es extends dn{constructor(){super(L(es.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new Gi("stopped"),this._events=new Set;const e=L(es.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,e.events.forEach(n=>{pt(n)?this.add(n[0],n[1]):this.add(n)})}static getDefaults(){return Object.assign(dn.getDefaults(),{events:[]})}start(e,n){const r=this.toTicks(e);if(this._state.getValueAtTime(r)!=="started"){n=Jt(n,this._loop?this._loopStart:0),this._loop?n=Jt(n,this._loopStart):n=Jt(n,0);const s=this.toTicks(n);this._state.add({id:-1,offset:s,state:"started",time:r}),this._forEach(i=>{this._startNote(i,r,s)})}return this}_startNote(e,n,r){n-=r,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<r&&(n+=this._getLoopDuration()),e.start(new de(this.context,n))):e.startOffset<this._loopStart&&e.startOffset>=r&&(e.loop=!1,e.start(new de(this.context,n))):e.startOffset>=r&&e.start(new de(this.context,n))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(n=>{n.startOffset+=this._startOffset})}stop(e){const n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._forEach(r=>{r.stop(e)}),this}at(e,n){const r=new Jr(this.context,e).toTicks(),s=new de(this.context,1).toSeconds(),i=this._events.values();let o=i.next();for(;!o.done;){const a=o.value;if(Math.abs(r-a.startOffset)<s)return Z(n)&&(a.value=n),a;o=i.next()}return Z(n)?(this.add(e,n),this.at(e)):null}add(e,n){e instanceof Object&&Reflect.has(e,"time")&&(n=e,e=n.time);const r=this.toTicks(e);let s;return n instanceof dn?(s=n,s.callback=this._tick.bind(this)):s=new dn({callback:this._tick.bind(this),context:this.context,value:n}),s.startOffset=r,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(e){this._state.forEach(n=>{n.state==="started"?this._startNote(e,n.time,n.offset):e.stop(new de(this.context,n.time))})}remove(e,n){return Bn(e)&&e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e),this._events.forEach(r=>{r.startOffset===e&&(_t(n)||Z(n)&&r.value===n)&&(this._events.delete(r),r.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(n=>n.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(n=>{n instanceof es?n._forEach(e):e(n)}),this}_setAll(e,n){this._forEach(r=>{r[e]=n})}_tick(e,n){this.mute||this.callback(e,n)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(n=>{n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.loop=e,this._testLoopBoundries(n)})}get loopEnd(){return new de(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopEnd=e,this._testLoopBoundries(n)})}get loopStart(){return new de(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopStart=this.loopStart,this._testLoopBoundries(n)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class ka extends dn{constructor(){super(L(ka.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new es({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const e=L(ka.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(Lu(dn.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,n){n!==null&&this.callback(e,n)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,n){return this._part.start(e,n&&this._indexTime(n)),this}stop(e){return this._part.stop(e),this}get subdivision(){return new de(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(n,r)=>n[r],set:(n,r,s)=>(Ht(r)&&isFinite(parseInt(r,10))&&pt(s)?n[r]=this._createSequence(s):n[r]=s,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,n,r){e.forEach((s,i)=>{const o=i*n+r;if(pt(s))this._rescheduleSequence(s,n/s.length,o);else{const a=new de(this.context,o,"i").toSeconds();this._part.add(a,s)}})}_indexTime(e){return new de(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,e===0?this._part.loopEnd=this._indexTime(this._eventsArray.length):this._part.loopEnd=this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class Ta extends J{constructor(){super(Object.assign(L(Ta.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=L(Ta.getDefaults(),arguments,["pan"]);this.pan=new me({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",xe(this,"pan")}static getDefaults(){return Object.assign(J.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const jk="bit-crusher",Hk=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;_g(jk,Hk);class Ee extends J{constructor(){super(L(Ee.getDefaults(),arguments,["solo"])),this.name="Solo";const e=L(Ee.getDefaults(),arguments,["solo"]);this.input=this.output=new rt({context:this.context}),Ee._allSolos.has(this.context)||Ee._allSolos.set(this.context,new Set),Ee._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(J.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ee._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ee._soloed.has(this.context)||Ee._soloed.set(this.context,new Set),Ee._soloed.get(this.context).add(this)}_removeSolo(){Ee._soloed.has(this.context)&&Ee._soloed.get(this.context).delete(this)}_isSoloed(){return Ee._soloed.has(this.context)&&Ee._soloed.get(this.context).has(this)}_noSolos(){return!Ee._soloed.has(this.context)||Ee._soloed.has(this.context)&&Ee._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ee._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ee._allSolos=new Map;Ee._soloed=new Map;class Ca extends J{constructor(){super(L(Ca.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=L(Ca.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Ta({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new $n({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,xe(this,["pan","volume"])}static getDefaults(){return Object.assign(J.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class tr extends J{constructor(){super(L(tr.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=L(tr.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Ee({solo:e.solo,context:this.context}),this._panVol=this.output=new Ca({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),xe(this,["pan","volume"])}static getDefaults(){return Object.assign(J.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return tr.buses.has(e)||tr.buses.set(e,new rt({context:this.context})),tr.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new rt({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}tr.buses=new Map;class Uk extends J{constructor(){super(...arguments),this.name="Listener",this.positionX=new me({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new me({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new me({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new me({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new me({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new me({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new me({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new me({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new me({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(J.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ga(t=>{t.listener=new Uk({context:t})});Qa(t=>{t.listener.dispose()});const Fs=Vt().transport;Vt().destination;Vt().destination;Vt().listener;const qk=Vt().draw;Vt();var $k="./assets/CYCdh_K6-Kick01.95ea7dbb.mp3",Gk="./assets/CYCdh_K6-Snr04.05bf1a6b.mp3",Qk="./assets/CYCdh_K6-Snr01.c07bf4a0.mp3",Xk="./assets/CYCdh_K6-ClHat.3f9a0f92.mp3",Yk="./assets/CYCdh_Kurz01-Tom03.84d1fc11.mp3",Zk="./assets/CYCdh_Kurz01-Tom01.4d024ec3.mp3";const oh=(t,e)=>{if(t.length===0)throw Error("No repeat on empty items list");const n=Math.ceil(e/t.length);return Array(n).fill(t).flatMap(r=>r).slice(0,e)},Kk=(t,e,n=1,r=0)=>t.map((s,i)=>U(I({},s),{position:{unit:e,count:i*n+r}})),Jk=t=>{const e=[];for(let n=0;n<=t;++n)e.push(n);return e},eT=(t,e,n)=>{let r=n;const s=[];for(const i of t){const o=U(I({},i),{position:{unit:e,count:r}});s.push(o),r+=i.distanceToNext}return s},tT=t=>{const e=[0];for(let n=1;n<t.length;++n)t[n-1].distanceToNext>0&&e.push(n);return e},nT=(t,e)=>{if(e>=t.length)throw Error(`Can not offset items with ${e} with length ${t.length}`);return t.concat(t).slice(e,e+t.length)},Vs=(t,e=1)=>t.map(n=>U(I({},n),{distanceToNext:e}));var x=(t=>(t.BD="C1",t.SN="D1",t.SNGH="E1",t.HHC="F#1",t.HHP="G#1",t.TOMH="A1",t.TOML="B1",t))(x||{});const rT={C1:$k,D1:Gk,E1:Qk,["F#1"]:Xk,B1:Zk,A1:Yk},sT=t=>new fs(rT,{onload:t}),iT=()=>{const[t,e]=se.exports.useState(void 0);return se.exports.useEffect(()=>{console.log("creating sampler");const n=sT(()=>{console.log("drum sampler loaded"),e(n)}).toDestination();return()=>{console.log("Dispose sampler"),n.dispose()}},[]),t},oT=t=>{const[e,n]=se.exports.useState(void 0);return se.exports.useEffect(()=>{const r=new $n(0).toDestination(),s=new ds({oscillator:{type:"sine"},envelope:{attack:.01,decay:.05,sustain:.01,release:.01}}).connect(r),i={mainNote:"A5",secondaryNote:"E5"},o=new ka((a,l)=>{const u=l===i.mainNote?1:.6;s.triggerAttackRelease(l,.1,a,u)},[i.mainNote].concat(oh([i.secondaryNote],t.numerator-1)),cm(t)).start(0);return n(r),()=>{console.log("Dispose metronome click sequence and synth"),o.stop(),r.dispose(),o.dispose(),s.dispose()}},[t]),e},aT=[{name:"Beat",description:"Normal beat",chopHits:[{note:x.BD,velocity:.8,sticking:"B",distanceToNext:0},{note:x.HHC,velocity:.5,sticking:"R",distanceToNext:1},{note:x.HHC,velocity:.2,sticking:"R",distanceToNext:1},{note:x.SN,velocity:.8,sticking:"L",distanceToNext:0},{note:x.HHC,velocity:.5,sticking:"R",distanceToNext:1},{note:x.HHC,velocity:.2,sticking:"R",distanceToNext:1}]},{name:"RLRR LRBB",description:"Paradiddle thing",chopHits:Vs([{note:x.SN,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.7,sticking:"R"},{note:x.SN,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.8,sticking:"R"},{note:x.BD,velocity:.6,sticking:"B"},{note:x.BD,velocity:.7,sticking:"B"}])},{name:"RLRR LLBB",description:"Paradiddle diddle BB",chopHits:Vs([{note:x.TOML,velocity:.8,sticking:"R"},{note:x.TOMH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.7,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.7,sticking:"L"},{note:x.BD,velocity:.6,sticking:"B"},{note:x.BD,velocity:.7,sticking:"B"}])},{name:"RLRRLL",description:"Paradiddle-diddle",chopHits:Vs([{note:x.TOML,velocity:.8,sticking:"R"},{note:x.TOMH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.7,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.7,sticking:"L"}])},{name:"BBRLBB RLLRRL",description:"16th note gospel chop",chopHits:Vs([{note:x.BD,velocity:.6,sticking:"B"},{note:x.BD,velocity:.7,sticking:"B"},{note:x.HHC,velocity:.4,sticking:"R"},{note:x.HHC,velocity:.4,sticking:"L"},{note:x.BD,velocity:.6,sticking:"B"},{note:x.BD,velocity:.7,sticking:"B"},{note:x.SN,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.7,sticking:"L"},{note:x.SNGH,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.7,sticking:"R"},{note:x.SN,velocity:.8,sticking:"L"}])},{name:"Kuoppis Fire Intro",description:"Kuoppam\xE4ki Fire fill",chopHits:Vs([{note:x.SN,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.7,sticking:"L"},{note:x.SN,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.7,sticking:"L"},{note:x.SNGH,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.7,sticking:"R"},{note:x.SN,velocity:.8,sticking:"L"},{note:x.SN,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.7,sticking:"L"},{note:x.TOMH,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.7,sticking:"L"},{note:x.TOMH,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.7,sticking:"L"},{note:x.SNGH,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.7,sticking:"R"},{note:x.SN,velocity:.8,sticking:"L"},{note:x.SN,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.7,sticking:"L"},{note:x.TOMH,velocity:.8,sticking:"R"},{note:x.SNGH,velocity:.8,sticking:"L"},{note:x.SNGH,velocity:.7,sticking:"L"},{note:x.BD,velocity:.6,sticking:"B"},{note:x.SN,velocity:.8,sticking:"R"},{note:x.TOMH,velocity:.8,sticking:"L"},{note:x.TOML,velocity:.8,sticking:"R"},{note:x.SN,velocity:.8,sticking:"L"}])}],lT=[{note:x.HHC,velocity:.5},{note:x.HHC,velocity:.2}],yg=Kk(oh(lT,8),"8n"),uT=[{position:{unit:"16n",count:0},note:x.HHC,velocity:.4,sticking:"R"},{position:{unit:"16n",count:1},note:x.HHC,velocity:.2,sticking:"L"},{position:{unit:"16n",count:2},note:x.HHC,velocity:.2,sticking:"R"},{position:{unit:"16n",count:3},note:x.HHC,velocity:.2,sticking:"L"},{position:{unit:"16n",count:5},note:x.HHC,velocity:.2,sticking:"L"},{position:{unit:"16n",count:6},note:x.HHC,velocity:.2,sticking:"R"},{position:{unit:"16n",count:7},note:x.HHC,velocity:.2,sticking:"L"},{position:{unit:"16n",count:8},note:x.HHC,velocity:.4},{position:{unit:"16n",count:9},note:x.HHC,velocity:.2},{position:{unit:"16n",count:10},note:x.HHC,velocity:.2},{position:{unit:"16n",count:11},note:x.HHC,velocity:.2},{position:{unit:"16n",count:13},note:x.HHC,velocity:.2},{position:{unit:"16n",count:14},note:x.HHC,velocity:.2},{position:{unit:"16n",count:15},note:x.HHC,velocity:.2}],Za=[{position:{unit:"8n",count:0},note:x.BD,velocity:.8},{position:{unit:"8n",count:4},note:x.BD,velocity:.8}],Ka=[{position:{unit:"8n",count:2},note:x.SN,velocity:.8},{position:{unit:"8n",count:6},note:x.SN,velocity:.8}],cT=[{position:{unit:"8t",count:0},note:x.HHC,velocity:.5},{position:{unit:"8t",count:2},note:x.HHC,velocity:.2},{position:{unit:"8t",count:3},note:x.HHC,velocity:.5},{position:{unit:"8t",count:5},note:x.HHC,velocity:.2},{position:{unit:"8t",count:6},note:x.HHC,velocity:.5},{position:{unit:"8t",count:8},note:x.HHC,velocity:.2},{position:{unit:"8t",count:9},note:x.HHC,velocity:.5},{position:{unit:"8t",count:11},note:x.HHC,velocity:.2}],hT=Za.concat(Ka).concat(yg),dT=Za.concat(Ka).concat(cT),fT=Za.concat(Ka).concat(yg.slice(0,7)),pT=Za.concat(Ka).concat(uT),mT=[{name:"8th beat",hits:hT,timeSignature:{numerator:4,denominator:4}},{name:"Shuffle",hits:dT,timeSignature:{numerator:4,denominator:4}},{name:"16th beat",hits:pT,timeSignature:{numerator:4,denominator:4}},{name:"7/8 beat",hits:fT,timeSignature:{numerator:7,denominator:8}}];var wg={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var i=arguments[s];if(!!i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(o==="object")if(i.toString===Object.prototype.toString)for(var l in i)e.call(i,l)&&i[l]&&r.push(l);else r.push(i.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(wg);var lr=wg.exports,Ja={exports:{}},el={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT=se.exports,vT=Symbol.for("react.element"),_T=Symbol.for("react.fragment"),yT=Object.prototype.hasOwnProperty,wT=gT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ST={key:!0,ref:!0,__self:!0,__source:!0};function Sg(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yT.call(e,r)&&!ST.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vT,type:t,key:i,ref:o,props:s,_owner:wT.current}}el.Fragment=_T;el.jsx=Sg;el.jsxs=Sg;Ja.exports=el;const X=Ja.exports.jsx,tt=Ja.exports.jsxs,tl=Ja.exports.Fragment,kg=t=>{const[e,n]=se.exports.useState(t.initial),r=()=>{const s=!e;n(s),t.onToggleChanged(s)};return tt("div",{tabIndex:0,className:lr("toggle-container",{checked:e}),onClick:r,onKeyUp:s=>{s.key===" "&&r()},children:[X("div",{className:"toggle-label",children:t.label}),tt("div",{className:"toggle-onoff",children:[X("span",{className:lr("onoff-label",{checked:e}),style:{paddingRight:"4px"},children:"ON"}),X("span",{className:lr("onoff-label",{checked:!e}),children:"OFF"})]})]})};const kT=X("polyline",{points:"5 2, 20 12, 5 22"}),TT=X("polyline",{points:"20 2, 5 12, 20 22"}),Tg=t=>X("svg",{viewBox:"0 0 24 24",stroke:"white",strokeWidth:"4",strokeLinejoin:"round",strokeLinecap:"round",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t}),CT=Tg(kT),xT=Tg(TT),jd={width:16,marginTop:2},Rr=t=>{const{title:e,current:n,values:r,itemToString:s,onSetValue:i}=t,o=r.findIndex(c=>c===n);if(o<0)throw new Error(`${e}: current ${n} value is not in values ${r}`);const a=c=>(o+c)%r.length,l=()=>i(r[a(1)]),u=()=>i(r[a(r.length-1)]);return tt("div",{tabIndex:0,className:"slider-container",onKeyUp:c=>{(c.key==="ArrowLeft"||c.key==="ArrowDown")&&u(),(c.key==="ArrowRight"||c.key==="ArrowUp")&&l()},children:[X("div",{className:"label",children:e}),X("div",{className:"value",children:s(n)}),tt("div",{className:"prev-next-container",children:[X("div",{className:lr("prev-next-button","prev-button"),onClick:u,children:X("div",{style:jd,children:xT})}),X("div",{className:lr("prev-next-button","next-button"),onClick:l,children:X("div",{style:jd,children:CT})})]})]})},NT=(t,e,n,r,s,i,o)=>{const a=nT(e.chopHits,n),l=r?Math.max(gi(t.timeSignature)/Ba(i.unit)-o,0):0,u=eT(oh(a,500),i.unit,l),c=or({unit:i.unit,count:l}),h=t.hits.filter(f=>or({unit:f.position.unit,count:f.position.count+1})<=c),m=(f=>f?s+1:s)(r),g=m*gi(t.timeSignature);return{hits:(r?h.concat(u):u).map(f=>U(I({},f),{time:{[f.position.unit]:f.position.count}})).filter(f=>or(f.position)<g),timeSignature:t.timeSignature,measureCount:m,modulation:i}},Al=t=>t.toString(),Rl=t=>t.name,Hd=(t,e)=>Math.floor(gi(t)/Ba(e.unit)),ET=t=>{const{chops:e,beats:n,setPlayableChop:r}=t,[s,i]=se.exports.useState(e[0]),[o,a]=se.exports.useState(n[0]),[l,u]=se.exports.useState(Eu[0]),[c,h]=se.exports.useState(2),[d,m]=se.exports.useState(0),[g,v]=se.exports.useState(!0),[y,f]=se.exports.useState(0),p=tT(s.chopHits),_=Hd(o.timeSignature,l),C=(S,T)=>{const w=Hd(S.timeSignature,T),k=Math.min(y,w);k!==y&&f(k)};return se.exports.useEffect(()=>{const S=NT(o,s,d,g,c,l,y);r(S)},[s,o,l,d,g,c,y,r]),tt(tl,{children:[X(Rr,{title:"Beat",current:o,values:n,itemToString:Rl,onSetValue:S=>{C(S,l),a(S)}}),X(Rr,{title:"Chop",current:s,values:t.chops,itemToString:Rl,onSetValue:i}),X(Rr,{title:"Mod",current:l,values:Eu,itemToString:Rl,onSetValue:S=>{C(o,S),u(S)}}),X(Rr,{title:"Measures",current:c,values:[1,2,4],itemToString:Al,onSetValue:h}),X(Rr,{title:"Rotation",current:d,values:p,itemToString:Al,onSetValue:m}),X(Rr,{title:"Pickup",current:y,values:Jk(_),itemToString:Al,onSetValue:f}),X(kg,{label:"Play beat",initial:g,onToggleChanged:v})]})};var ur=[],OT=function(){return ur.some(function(t){return t.activeTargets.length>0})},AT=function(){return ur.some(function(t){return t.skippedTargets.length>0})},Ud="ResizeObserver loop completed with undelivered notifications.",RT=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:Ud}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=Ud),window.dispatchEvent(t)},Mi;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Mi||(Mi={}));var cr=function(t){return Object.freeze(t)},MT=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,cr(this)}return t}(),Cg=function(){function t(e,n,r,s){return this.x=e,this.y=n,this.width=r,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,cr(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,s=e.top,i=e.right,o=e.bottom,a=e.left,l=e.width,u=e.height;return{x:n,y:r,top:s,right:i,bottom:o,left:a,width:l,height:u}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),ah=function(t){return t instanceof SVGElement&&"getBBox"in t},xg=function(t){if(ah(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var s=t,i=s.offsetWidth,o=s.offsetHeight;return!(i||o||t.getClientRects().length)},qd=function(t){var e,n;if(t instanceof Element)return!0;var r=(n=(e=t)===null||e===void 0?void 0:e.ownerDocument)===null||n===void 0?void 0:n.defaultView;return!!(r&&t instanceof r.Element)},IT=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ks=typeof window!="undefined"?window:{},_o=new WeakMap,$d=/auto|scroll/,DT=/^tb|vertical/,PT=/msie|trident/i.test(Ks.navigator&&Ks.navigator.userAgent),Qt=function(t){return parseFloat(t||"0")},ts=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new MT((n?e:t)||0,(n?t:e)||0)},Gd=cr({devicePixelContentBoxSize:ts(),borderBoxSize:ts(),contentBoxSize:ts(),contentRect:new Cg(0,0,0,0)}),Ng=function(t,e){if(e===void 0&&(e=!1),_o.has(t)&&!e)return _o.get(t);if(xg(t))return _o.set(t,Gd),Gd;var n=getComputedStyle(t),r=ah(t)&&t.ownerSVGElement&&t.getBBox(),s=!PT&&n.boxSizing==="border-box",i=DT.test(n.writingMode||""),o=!r&&$d.test(n.overflowY||""),a=!r&&$d.test(n.overflowX||""),l=r?0:Qt(n.paddingTop),u=r?0:Qt(n.paddingRight),c=r?0:Qt(n.paddingBottom),h=r?0:Qt(n.paddingLeft),d=r?0:Qt(n.borderTopWidth),m=r?0:Qt(n.borderRightWidth),g=r?0:Qt(n.borderBottomWidth),v=r?0:Qt(n.borderLeftWidth),y=h+u,f=l+c,p=v+m,_=d+g,C=a?t.offsetHeight-_-t.clientHeight:0,S=o?t.offsetWidth-p-t.clientWidth:0,T=s?y+p:0,w=s?f+_:0,k=r?r.width:Qt(n.width)-T-S,N=r?r.height:Qt(n.height)-w-C,M=k+y+S+p,O=N+f+C+_,E=cr({devicePixelContentBoxSize:ts(Math.round(k*devicePixelRatio),Math.round(N*devicePixelRatio),i),borderBoxSize:ts(M,O,i),contentBoxSize:ts(k,N,i),contentRect:new Cg(h,l,k,N)});return _o.set(t,E),E},Eg=function(t,e,n){var r=Ng(t,n),s=r.borderBoxSize,i=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(e){case Mi.DEVICE_PIXEL_CONTENT_BOX:return o;case Mi.BORDER_BOX:return s;default:return i}},bT=function(){function t(e){var n=Ng(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=cr([n.borderBoxSize]),this.contentBoxSize=cr([n.contentBoxSize]),this.devicePixelContentBoxSize=cr([n.devicePixelContentBoxSize])}return t}(),Og=function(t){if(xg(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},LT=function(){var t=1/0,e=[];ur.forEach(function(o){if(o.activeTargets.length!==0){var a=[];o.activeTargets.forEach(function(u){var c=new bT(u.target),h=Og(u.target);a.push(c),u.lastReportedSize=Eg(u.target,u.observedBox),h<t&&(t=h)}),e.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var s=r[n];s()}return t},Qd=function(t){ur.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(s){s.isActive()&&(Og(s.target)>t?n.activeTargets.push(s):n.skippedTargets.push(s))})})},FT=function(){var t=0;for(Qd(t);OT();)t=LT(),Qd(t);return AT()&&RT(),t>0},Ml,Ag=[],VT=function(){return Ag.splice(0).forEach(function(t){return t()})},zT=function(t){if(!Ml){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return VT()}).observe(n,r),Ml=function(){n.textContent=""+(e?e--:e++)}}Ag.push(t),Ml()},BT=function(t){zT(function(){requestAnimationFrame(t)})},Po=0,WT=function(){return!!Po},jT=250,HT={attributes:!0,characterData:!0,childList:!0,subtree:!0},Xd=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Yd=function(t){return t===void 0&&(t=0),Date.now()+t},Il=!1,UT=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=jT),!Il){Il=!0;var r=Yd(e);BT(function(){var s=!1;try{s=FT()}finally{if(Il=!1,e=r-Yd(),!WT())return;s?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,HT)};document.body?n():Ks.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Xd.forEach(function(n){return Ks.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Xd.forEach(function(n){return Ks.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),Bu=new UT,Zd=function(t){!Po&&t>0&&Bu.start(),Po+=t,!Po&&Bu.stop()},qT=function(t){return!ah(t)&&!IT(t)&&getComputedStyle(t).display==="inline"},$T=function(){function t(e,n){this.target=e,this.observedBox=n||Mi.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=Eg(this.target,this.observedBox,!0);return qT(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),GT=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),yo=new WeakMap,Kd=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},wo=function(){function t(){}return t.connect=function(e,n){var r=new GT(e,n);yo.set(e,r)},t.observe=function(e,n,r){var s=yo.get(e),i=s.observationTargets.length===0;Kd(s.observationTargets,n)<0&&(i&&ur.push(s),s.observationTargets.push(new $T(n,r&&r.box)),Zd(1),Bu.schedule())},t.unobserve=function(e,n){var r=yo.get(e),s=Kd(r.observationTargets,n),i=r.observationTargets.length===1;s>=0&&(i&&ur.splice(ur.indexOf(r),1),r.observationTargets.splice(s,1),Zd(-1))},t.disconnect=function(e){var n=this,r=yo.get(e);r.observationTargets.slice().forEach(function(s){return n.unobserve(e,s.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),QT=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");wo.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!qd(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");wo.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!qd(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");wo.unobserve(this,e)},t.prototype.disconnect=function(){wo.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const XT=af[typeof document!="undefined"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"];var YT=XT;const ZT=t=>{const e=se.exports.useRef(t);return se.exports.useEffect(()=>{e.current=t}),e};var KT=ZT,JT=function(e){var n=[],r=null,s=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return s.cancel=function(){!r||(cancelAnimationFrame(r),r=null)},s},eC=JT;const tC=typeof window!="undefined"&&"ResizeObserver"in window?window.ResizeObserver:QT;function nC(){}function rC(t,e){const n=iC(),r=KT(e);return YT(()=>{let s=!1;const i=t&&"current"in t?t.current:t;if(!i)return nC;function o(a,l){s||r.current(a,l)}return n.subscribe(i,o),()=>{s=!0,n.unsubscribe(i,o)}},[t,n,r]),n.observer}function sC(){const t=new Map,e=new tC(eC((n,r)=>{for(let s=0;s<n.length;s++){const i=t.get(n[s].target);i==null||i.forEach(o=>o(n[s],r))}}));return{observer:e,subscribe(n,r){var s;e.observe(n);const i=(s=t.get(n))!==null&&s!==void 0?s:[];i.push(r),t.set(n,i)},unsubscribe(n,r){var s;const i=(s=t.get(n))!==null&&s!==void 0?s:[];if(i.length===1){e.unobserve(n),t.delete(n);return}const o=i.indexOf(r);o!==-1&&i.splice(o,1),t.set(n,i)}}}let Dl;const iC=()=>Dl||(Dl=sC()),oC=t=>{const[e,n]=se.exports.useState();return se.exports.useLayoutEffect(()=>{t.current&&n(t.current.getBoundingClientRect())},[t]),rC(t,r=>n(r.contentRect)),e},aC=t=>{const e=t.viewWidth/t.measureCount,n=e/t.timeSignature.numerator,r=[...Array(t.measureCount).keys()],s=[...Array(t.measureCount*t.timeSignature.numerator).keys()];return tt(tl,{children:[r.map(i=>X("div",{className:"measure-background",style:{width:e,left:i*e,opacity:i%2===0?.6:.5}},"measure-bg-"+i)),s.filter(i=>i>0).map(i=>{const o=i%t.timeSignature.numerator===0;return X("div",{className:"beat-line",style:{left:i*n,width:o?2:1}},"beat-line-"+i)})]})},lC={[x.HHC]:0,[x.HHP]:0,[x.TOMH]:1,[x.SN]:2,[x.SNGH]:2,[x.TOML]:3,[x.BD]:4},Rg=30,Pl=.3,uC=t=>X(tl,{children:t.hits.map((e,n)=>{const r=or(e.position),s=Ba(e.position.unit),i=t.highlightHits.includes(e);let o=1-Pl+e.velocity*Pl;return e.note===x.SNGH&&(o-=Pl),X("div",{className:lr("note",{highlighted:i}),style:{left:r*t.beatWidth,width:s*t.beatWidth-1,top:lC[e.note]*Rg+1,opacity:o},children:e.sticking},n)})}),cC=t=>{var i;const e=se.exports.useRef(null),n=oC(e),r=(i=n==null?void 0:n.width)!=null?i:300,s=gi(t.playableChop.timeSignature)*t.playableChop.measureCount;return tt("div",{className:"chop-grid-container",ref:e,children:[["HH","TH","SN","TL","BD"].map((o,a)=>X("div",{style:{left:-26,top:a*Rg,position:"absolute",lineHeight:"30px"},children:o},o+a)),X(aC,{viewWidth:r,measureCount:t.playableChop.measureCount,timeSignature:t.playableChop.timeSignature}),X(uC,{beatWidth:r/s,hits:t.playableChop.hits,highlightHits:t.highlightHits})]})};const lh=t=>X("div",{className:"icon",children:X("svg",{viewBox:"0 0 24 24",stroke:"black",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",xmlns:"http://www.w3.org/2000/svg",children:t})}),hC=lh(X("polygon",{points:"7 5, 18 12, 7 19"})),dC=lh(X("polygon",{points:"6 6, 18 6, 18 18, 6 18"})),fC=lh(tt(tl,{children:[X("rect",{x:6,y:6,width:3,height:12}),X("rect",{x:15,y:6,width:3,height:12})]})),pC=t=>{const e=t.transport,[n,r]=se.exports.useState(e.state),s=async()=>{e.state==="started"?(r("paused"),e.pause()):(await Tk(),e.start(),r("started"))},i=()=>{e.stop(),r("stopped")};return tt("div",{children:[X("button",{className:lr("button","play-pause"),disabled:!t.isLoaded,onClick:s,children:n==="started"?fC:hC}),X("button",{className:"button",disabled:!t.isLoaded||n==="stopped",onClick:i,children:dC})]})},mC=t=>{const[e,n]=se.exports.useState(t.initialValue),r=i=>{const o=parseInt(i.target.value);isNaN(o)||n(o)},s=()=>{t.onSetValue(e)};return tt("div",{className:"slider-container",children:[tt("div",{className:"label-value",children:[X("div",{className:"label",children:t.title}),X("div",{className:"value",children:e})]}),X("input",{type:"range",min:t.min,max:t.max,value:e,id:t.title+"intRange",onChange:r,onTouchEnd:s,onMouseUp:s,onKeyUp:s,style:{width:110}})]})},gC=()=>{var d;const[t,e]=se.exports.useState({hits:[],measureCount:2,timeSignature:{numerator:4,denominator:4},modulation:Eu[0]}),[n,r]=se.exports.useState(!0),s=iT(),i=oT(t.timeSignature);i&&(i.mute=!n);const o=m=>{i&&(i.mute=!m,r(m))},[a,l]=se.exports.useState([]);se.exports.useEffect(()=>{if(!s){console.log("no sampler yet");return}const m=new es((g,v)=>{s.triggerAttack(v.note,g,v.velocity);const y=or(v.position),f=t.hits.filter(p=>or(p.position)===y);qk.schedule(()=>{l(f)},g)},t.hits).start(0);return()=>{console.log("disposing part"),m.dispose()}},[s,t]),Fs.loop=!0,Fs.loopEnd={"4n":gi(t.timeSignature)*t.measureCount};const u=X(kg,{label:"Metronome",initial:n,onToggleChanged:o}),c=X(mC,{title:"Tempo",initialValue:Fs.bpm.value,min:40,max:220,onSetValue:m=>Fs.bpm.value=m}),h=tt("div",{className:"play-controls",children:[X(pC,{isLoaded:(d=s==null?void 0:s.loaded)!=null?d:!1,transport:Fs}),c]});return X("div",{className:"App",children:tt("div",{className:"app-container",children:[tt("div",{className:"chop-controls-container",children:[X(ET,{chops:aT,beats:mT,setPlayableChop:e}),u]}),tt("div",{className:"play-and-grid-container",children:[h,X(cC,{playableChop:t,highlightHits:a})]})]})})};const Mg=document.getElementById("root");if(Mg===null)throw Error("No root element");bl.createRoot(Mg).render(X(af.StrictMode,{children:X(gC,{})}));
