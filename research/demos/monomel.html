<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>

<title>Automatic transcription of singing, examples</title>
<link rel="stylesheet" type="text/css" href="../mattistyle.css" />
</head>
<body>

<h2>Automatic transcription of singing, examples</h2>

<p>
Author: Matti Ryyn&auml;nen,
<a href="../research.html">homepage</a>
<br />
<!-- hhmts start --> Last modified: Wed May  5 13:57:00 EEST 2004 <!-- hhmts end -->
</p>

<h3>Transcription method</h3>

<p>
All the melodies are transcribed with the method described in [1]. The
method takes an acoustic input file (in .wav format) and produces a MIDI
file, including notes with velocity values,
a tempo estimate, and a key signature
estimate. The tempo is estimated with the method proposed in [2], and the
key estimation method was originally proposed in [3], but simplified in [1].
The transcription method uses
<ul>
  <li>Three-state hidden Markov model to describe note events</li>
  <li>Pitch, voicing, and accent as musical features</li>
  <li>Note bigrams (with key estimation) for between-note transitions</li>
</ul>
</p>

<p>
In addition, vibrato in sung notes is detected and coded
as pitch bend messages in MIDI files. The note velocities are
determined by the average of RMS energies (mapped to range 0-1)
of the voiced frames
during notes (variable <var>E</var>) and
compressed with mu-law mapping,
<var>log(1 + mu * E) / log( 1 + mu )</var>,
where <var>mu = 10</var>.
</p>

<p>
The following figures of the scores were generated by importing
the transcribed MIDI files to the Emagic Logic Audio software
and then using the graphic export function of the Logic Audio score editor.
Notice that the transcriptions were not
manually processed in any way, except that the MIDI sequences were shifted
in time (with eighth-note shifts) to match the bar lines with the
performance, e.g., in
cases of upbeat starts in melodies. The
score editor quantises note starts and interprets note lengths by given
accuracy. In most cases, an eighth-note and an eighth-note triplet score
quantiser was set on. Tempo, key
signature, or notes were not modified with the sequencer, i.e.,
Logic Audio was used only for creating the figures, not the
synthesised MIDI files in the following.
</p>

<h3>References</h3>

<p>
[1] M. Ryyn&auml;nen, "Probabilistic Modelling of Note Events in the Transcription of Monophonic Melodies," Master's thesis, Tampere University of Technology, March 2004. Available:
<a href="http://www.cs.tut.fi/sgn/arg/matti/mryynane_thesis.pdf">.pdf</a> 
<a href="http://www.cs.tut.fi/sgn/arg/matti/mryynane_thesis.ps">.ps</a>
<br />
[2] A. P. Klapuri, A. J. Eronen, and J. T. Astola, "Analysis of the
meter of acoustic music signals," <i>IEEE Transactions on Speech and
Audio Processing</i>, to appear.
<br />
[3] T. Viitaniemi, A. Klapuri and A. Eronen. "A probabilistic
model for the transcription of single-voice melodies," in 
<i>Proceedings of the 2003 Finnish Signal Processing Symposium, FINSIG'03</i>,
May 2003.
</p>

<hr>

<h3>Examples</h3>

<p>
In the following examples, acoustic
inputs and the corresponding transcriptions (synthesised directly from the
MIDI files) are provided in mp3 format.
</p>

<b>Song: En etsi valtaa loistoa</b>
<ul>
  <li>Singing technique: syllable</li>
  <li>Key signature: F major (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/26.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_26.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/26.gif" ><br />
  <li>Comments: an easy transcription case, since only one syllable used. 
  Vibrato found in measures 5 and 9. 
  </li>
</ul>
<br /><br />

<b>Song: L&auml;nnen lokari</b>
<ul>
  <li>Singing technique: syllable</li>
  <li>Key signature: G minor (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/67.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_67.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/67.gif" ><br />
  <li>Comments: quite easy, although notes are short. 
  Vibrato found in measure 9. However, some adjacent eighth-notes are
  interpreted as fourth-notes.
  </li>
</ul>
<br /><br />

<b>Song: Brother, can you spare me a dime</b>
<ul>
  <li>Singing technique: syllable</li>
  <li>Key signature: A minor (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/64.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_64.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/64.gif" ><br />
  <li>Comments: some good vibratos and also correctly transcribed notes
  with accidentals (also a few wrong ones). Usually, the first note is
  hard to transcribe correctly.
    </li>
</ul>
<br /><br />

<b>Song: Pieni tyt�n tyller�inen</b>
<ul>
  <li>Singing technique: lyrics</li>
  <li>Key signature: D minor (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/72.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_72.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/72.gif" ><br />
  <li>Comments: in the fifth measure, singing with the lyrics
  results in additional note boundaries.

  </li>
</ul>
<br /><br />

<b>Song: Over The Rainbow</b>
<ul>
  <li>Singing technique: syllable</li>
  <li>Key signature: C major (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/99.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_99.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/99.gif" ><br />
  <li>Comments: some good vibratos.
  </li>
</ul>
<br /><br />

<b>Song: Oravan pes&auml;</b>
<ul>
  <li>Singing technique: syllable</li>
  <li>Key signature: F major (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/137.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_137.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/137.gif" ><br />
  <li>Comments: The key signature was manually changed to 3/8. Too high
  octave errors occur in measures 8 and 11, caused by the front-end
  pitch estimator.
  </li>
</ul>
<br /><br />

<b>Song: Yesterday</b>
<ul>
  <li>Singing technique: humming</li>
  <li>Key signature: F major (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/77.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_77.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/77.gif" ><br />
  <li>Comments: a very good humming transcription.
  </li>
</ul>
<br /><br />

<b>Song: Puhelinlangat laulaa</b>
<ul>
  <li>Singing technique: lyrics</li>
  <li>Key signature: C minor (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/115.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_115.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/115.gif" ><br />
  <li>Comments: In the beginning of the singing performance
  (measures 1 and 2), 
  there are some inaccuracies which are hard to transcribe correctly.
  </li>
</ul>
<br /><br />

<b>Song: Hopeinen kuu (Guarda che luna)</b>
<ul>
  <li>Singing technique: lyrics</li>
  <li>Key signature: D minor (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/54.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_54.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/54.gif" ><br />
  <li>Comments: The song includes triplets and difficult melodic phrases.
  </li>
</ul>
<br /><br />

<b>Song: S&auml;vel rakkauden</b>
<ul>
  <li>Singing technique: syllable</li>
  <li>Key signature: F major (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/85.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_85.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/85.gif" ><br />
  <li>Comments: A good transcription with vibratos. The tempo estimate
  was slightly too slow which moved the notes an eighth-note backwards
  in measures 13-16 (a long melody).
  </li>
</ul>
<br /><br />

<b>Song: Telefoni afrikassa</b>
<ul>
  <li>Singing technique: lyrics</li>
  <li>Key signature: Bb major (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/34.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_34.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/34.gif" ><br />
  <li>Comments: some troubles transcribing measures 6 and 7.
  </li>
</ul>
<br /><br />

<b>Song: Pieni ankanpoikanen</b>
<ul>
  <li>Singing technique: humming</li>
  <li>Key signature: E major (<font color="FF0000">incorrectly</font> estimated, should be D major)</li>
  <li>Acoustic input: <a href="soundfiles/111.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_111.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/111.gif" ><br />
  <li>Comments: a very hard transcription case.
  </li>
</ul>
<br /><br />

<b>Song: Taivas on sininen ja valkoinen</b>
<ul>
  <li>Singing technique: humming</li>
  <li>Key signature: C major (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/33.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_33.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/33.gif" ><br />
  <li>Comments: clear velocity and vibrato changes in measure 4.
  </li>
</ul>
<br /><br />

<b>Song: Brother, can you spare me a dime </b>
<ul>
  <li>Singing technique: lyrics</li>
  <li>Key signature: A minor (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/37.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_37.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/37.gif" ><br />
  <li>Comments: expressive singing is hard to transcribe. Especially,
  <i>glissandos</i> to note pitches are difficult to correct.
  </li>
</ul>
<br /><br />

<b>Song: Ranskalaiset korot</b>
<ul>
  <li>Singing technique: lyrics</li>
  <li>Key signature: A minor (correctly estimated)</li>
  <li>Acoustic input: <a href="soundfiles/96.wav.mp3">mp3</a> </li>
  <li>Transcription output (synthesised MIDI):
  <a href="soundfiles/vibra_vel_96.wav.mp3">mp3</a></li>
  <li>Score: </li>
  <br />
  <img src="figs/96.gif" ><br />
  <li>Comments: a perfect transcription.
  </li>
</ul>

</body>
</html>
